{"meta":{"title":"å°ä¸ƒçš„åšå®¢","subtitle":"www.xiaoqi.cn","description":"æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸–ç•Œ!","author":"å°ä¸ƒ","url":"https://coloey.github.io","root":"/"},"pages":[{"title":"categories","date":"2021-11-12T10:10:34.000Z","updated":"2021-11-12T10:12:26.795Z","comments":true,"path":"categories/index.html","permalink":"https://coloey.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"addLoadEvent","slug":"addLoadEvent","date":"2022-01-10T09:41:16.000Z","updated":"2022-01-10T09:47:57.127Z","comments":true,"path":"2022/01/10/addLoadEvent/","link":"","permalink":"https://coloey.github.io/2022/01/10/addLoadEvent/","excerpt":"","text":"1234567891011function addLoadEvent(func)&#123; var oldonload=window.onload; if(typeof oldonload!=&#x27;function&#x27;)&#123; window.onload=func;//å¦‚æœå¤„ç†å‡½æ•°è¿˜æ²¡æœ‰ç»‘å®šä»»ä½•å‡½æ•°ï¼Œå°±æ·»åŠ æ–°å‡½æ•° &#125;else&#123; window.onload=function()&#123; oldonload(); func(); &#125; &#125; &#125;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"reduce","slug":"reduce","date":"2022-01-07T03:30:23.000Z","updated":"2022-01-07T13:25:55.147Z","comments":true,"path":"2022/01/07/reduce/","link":"","permalink":"https://coloey.github.io/2022/01/07/reduce/","excerpt":"","text":"arr.reduce(callback(accumulator,currentValue,index,array),InitValue) callback:æ‰§è¡Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼çš„å‡½æ•°ï¼ŒåŒ…æ‹¬4ä¸ªå‚æ•°ï¼š accumulator currentValue æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚ index å¯é€‰ æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚ å¦‚æœæä¾›äº†initialValueï¼Œåˆ™èµ·å§‹ç´¢å¼•å·ä¸º0ï¼Œå¦åˆ™ä»ç´¢å¼•1èµ·å§‹ã€‚ arrayå¯é€‰ è°ƒç”¨reduce()çš„æ•°ç»„ initialValueå¯é€‰ ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callbackå‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚ å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚ è¿”å›ç´¯è®¡å¤„ç†åçš„ç»“æœ æ±‚æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼çš„å’Œ12345678910var sum=[0,1,2,3].reduce(function(accumulator,currentValue)&#123;return accumulator+currentValue;&#125;,0)//6//ç´¯åŠ å¯¹è±¡æ•°ç»„é‡Œçš„å€¼var InitValue=0;var sum=[&#123;x:1&#125;,&#123;x:2&#125;,&#123;x:3&#125;].reduce(function(accumulator,currentValue)&#123; return accumulator+currentValue;&#125;,InitValue);console.log(sum);//6 å°†äºŒç»´æ•°ç»„è½¬ä¸ºä¸€ç»´1var flattened=[[0,1],[2,3],[4,5],[6,7]].reduce(function(a,b)&#123;return a.concat(b);&#125;,[]) è®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„ä¸ªæ•°1234567891011var names=[&#x27;Alice&#x27;,&#x27;Bob&#x27;,&#x27;Ann&#x27;,&#x27;Alice&#x27;,&#x27;Bob&#x27;]; var countNames=names.reduce((allNames,name)=&gt;&#123; if(name in allNames)&#123; allNames[name]++; &#125; else&#123; allNames[name]=1; &#125; return allNames; &#125;,&#123;&#125;); console.log(countNames); æŒ‰ç…§å±æ€§å¯¹objectåˆ†ç±»123456789101112131415161718var people=[ &#123;name:&#x27;Alice&#x27;,age:20&#125;, &#123;name:&#x27;Max&#x27;,age:20&#125;, &#123;name:&#x27;Jane&#x27;,age:21&#125; ] function groupBy(objectArray,property)&#123; return objectArray.reduce(function(acc,obj)&#123; var key=obj[property]; if(!acc[key])&#123; acc[key]=[]; &#125; acc[key].push(obj); return acc; &#125;,&#123;&#125;); &#125; var groupedPeople=groupBy(people,&#x27;age&#x27;); console.log(groupedPeople); ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ç»‘å®šåŒ…å«åœ¨å¯¹è±¡æ•°ç»„ä¸­çš„æ•°ç»„123456789var friends=[&#123; name:&#x27;Anna&#x27;, books:[&#x27;Bible&#x27;,&#x27;Harry Potter&#x27;], age:21 &#125;, &#123;name:&#x27;Bob&#x27;,books:[&#x27;War and Peace&#x27;],age:16&#125;, &#123;name:&#x27;Mike&#x27;,books:[&#x27;The Shining&#x27;,&#x27;The Lord of the Rings&#x27;],age:18&#125;]; var allBooks=friends.reduce((prev,curr)=&gt;&#123;return [...prev,...curr.books]&#125;,[&#x27;Alphabet&#x27;]); console.log(allBooks); æ•°ç»„å»é‡123456789let myArray=[6,6,6,2,3,3,4,4,4,5]; let myOrderedArray=myArray.reduce((accumulator,currval)=&gt;&#123; if(accumulator.indexOf(currval)==-1)&#123; accumulator.push(currval); &#125; return accumulator; &#125;,[]) console.log(myOrderedArray);","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"Promise","slug":"Promise","date":"2022-01-06T12:59:19.000Z","updated":"2022-01-07T13:00:23.474Z","comments":true,"path":"2022/01/06/Promise/","link":"","permalink":"https://coloey.github.io/2022/01/06/Promise/","excerpt":"","text":"æœŸçº¦çŠ¶æ€æœºPromiseå¯ä»¥é€šè¿‡ new æ“ä½œç¬¦æ¥å®ä¾‹åŒ–ã€‚åˆ›å»ºæ–°æœŸçº¦æ—¶éœ€è¦ä¼ å…¥æ‰§è¡Œå™¨ï¼ˆexecutorï¼‰å‡½æ•°ä½œä¸ºå‚æ•° 123let p = new Promise(() =&gt; &#123;&#125;);setTimeout(console.log, 0, p); // Promise &lt;pending&gt; åœ¨æŠŠä¸€ä¸ªæœŸçº¦å®ä¾‹ä¼ ç»™ console.log()æ—¶ï¼Œæ§åˆ¶å°è¾“å‡ºï¼ˆå¯èƒ½å› æµè§ˆå™¨ä¸åŒè€Œç•¥æœ‰å·®å¼‚ï¼‰è¡¨æ˜è¯¥å®ä¾‹å¤„äºå¾…å®šï¼ˆpendingï¼‰çŠ¶æ€ã€‚å¦‚å‰æ‰€è¿°ï¼ŒæœŸçº¦æ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„å¯¹è±¡ï¼Œå¯èƒ½å¤„äºå¦‚ä¸‹ 3 ç§çŠ¶æ€ä¹‹ä¸€ï¼š å¾…å®šï¼ˆpendingï¼‰æ˜¯æœŸçº¦çš„æœ€åˆå§‹çŠ¶æ€ã€‚åœ¨å¾…å®šçŠ¶æ€ä¸‹ï¼ŒæœŸçº¦å¯ä»¥è½å®šï¼ˆsettledï¼‰ä¸ºä»£è¡¨æˆåŠŸçš„å…‘ç°ï¼ˆfulfilledï¼‰çŠ¶æ€ï¼Œæˆ–è€…ä»£è¡¨å¤±è´¥çš„æ‹’ç»ï¼ˆrejectedï¼‰çŠ¶æ€ã€‚æ— è®ºè½å®šä¸ºå“ªç§çŠ¶æ€éƒ½æ˜¯ä¸å¯é€†çš„ã€‚åªè¦ä»å¾…å®šè½¬æ¢ä¸ºå…‘ç°æˆ–æ‹’ç»ï¼ŒæœŸçº¦çš„çŠ¶æ€å°±ä¸å†æ”¹å˜ã€‚è€Œæœ‰æ—¶å€™ä¹Ÿç§°ä¸ºâ€œè§£å†³â€ï¼Œresolvedï¼‰ å…‘ç°ï¼ˆfulfilled)æ¯ä¸ªæœŸçº¦åªè¦çŠ¶æ€åˆ‡æ¢ä¸ºå…‘ç°ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªç§æœ‰çš„å†…éƒ¨å€¼ï¼ˆvalueï¼‰ æ‹’ç»ï¼ˆrejectedï¼‰å¦‚æœæœŸçº¦è¢«æ‹’ç»ï¼Œç¨‹åºå°±ä¼šæœŸå¾…æœŸçº¦çŠ¶æ€æ”¹å˜æ—¶å¯ä»¥æ‹¿åˆ°æ‹’ç»çš„ç†ç”± æœŸçº¦ç”¨é€”æœŸçº¦ä¸»è¦æœ‰ä¸¤å¤§ç”¨é€”ã€‚é¦–å…ˆæ˜¯æŠ½è±¡åœ°è¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œã€‚æœŸçº¦çš„çŠ¶æ€ä»£è¡¨æœŸçº¦æ˜¯å¦å®Œæˆã€‚æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¸ªçŠ¶æ€æœºå°±æ˜¯æœŸçº¦å¯ä»¥æä¾›çš„æœ€æœ‰ç”¨çš„ä¿¡æ¯ã€‚ é€šè¿‡æ‰§è¡Œå‡½æ•°æ§åˆ¶æœŸçº¦çŠ¶æ€æœŸçº¦çš„çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œæ‰€ä»¥åªèƒ½åœ¨å†…éƒ¨è¿›è¡Œæ“ä½œã€‚å†…éƒ¨æ“ä½œåœ¨æœŸçº¦çš„æ‰§è¡Œå™¨å‡½æ•°ä¸­å®Œæˆã€‚æ‰§è¡Œå™¨å‡½æ•°ä¸»è¦æœ‰ä¸¤é¡¹èŒè´£ï¼šåˆå§‹åŒ–æœŸçº¦çš„å¼‚æ­¥è¡Œä¸ºå’Œæ§åˆ¶çŠ¶æ€çš„æœ€ç»ˆè½¬æ¢ã€‚å…¶ä¸­ï¼Œæ§åˆ¶æœŸçº¦çŠ¶æ€çš„è½¬æ¢æ˜¯é€šè¿‡è°ƒç”¨å®ƒçš„ä¸¤ä¸ªå‡½æ•°å‚æ•°å®ç°çš„ã€‚è¿™ä¸¤ä¸ªå‡½æ•°å‚æ•°é€šå¸¸éƒ½å‘½åä¸º resolve()å’Œ reject()ã€‚è°ƒç”¨resolve()ä¼šæŠŠçŠ¶æ€åˆ‡æ¢ä¸ºå…‘ç°ï¼Œè°ƒç”¨ reject()ä¼šæŠŠçŠ¶æ€åˆ‡æ¢ä¸ºæ‹’ç»ã€‚å¦å¤–ï¼Œè°ƒç”¨ reject()ä¹Ÿä¼šæŠ›å‡ºé”™è¯¯ 123456let p1=new Promise((resolve,reject)=&gt;resolve());setTimeout(console.log,0,p1);//Promise &lt;resolved&gt;let p2 = new Promise((resolve, reject) =&gt; reject());setTimeout(console.log, 0, p2); // Promise &lt;rejected&gt;// Uncaught error (in promise) åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¼‚æ­¥æ“ä½œï¼Œå› ä¸ºåœ¨åˆå§‹åŒ–æœŸçº¦æ—¶ï¼Œæ‰§è¡Œå™¨å‡½æ•°å·²ç»æ”¹å˜äº†æ¯ä¸ªæœŸçº¦çš„çŠ¶æ€ï¼Œæ‰§è¡Œå™¨å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚è¿™æ˜¯å› ä¸ºæ‰§è¡Œå™¨å‡½æ•°æ˜¯æœŸçº¦çš„åˆå§‹åŒ–ç¨‹åºã€‚ æ·»åŠ  setTimeout å¯ä»¥æ¨è¿Ÿåˆ‡æ¢çŠ¶æ€ï¼š 1234let p = new Promise((resolve, reject) =&gt; setTimeout(resolve, 1000));// åœ¨ console.log æ‰“å°æœŸçº¦å®ä¾‹çš„æ—¶å€™ï¼Œè¿˜ä¸ä¼šæ‰§è¡Œè¶…æ—¶å›è°ƒï¼ˆå³ resolve()ï¼‰setTimeout(console.log, 0, p); // Promise &lt;pending&gt; æ— è®º resolve()å’Œ reject()ä¸­çš„å“ªä¸ªè¢«è°ƒç”¨ï¼ŒçŠ¶æ€è½¬æ¢éƒ½ä¸å¯æ’¤é”€äº†ã€‚äºæ˜¯ç»§ç»­ä¿®æ”¹çŠ¶æ€ä¼šé™é»˜å¤±è´¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456let p = new Promise((resolve, reject) =&gt; &#123;resolve();reject(); // æ²¡æœ‰æ•ˆæœ&#125;);setTimeout(console.log, 0, p); // Promise &lt;resolved&gt; Promise.resolve()ä¸‹é¢ä¸¤ä¸ªæœŸçº¦å®ä¾‹å®é™…ä¸Šæ˜¯ä¸€æ ·çš„ï¼š let p1 = new Promise((resolve, reject) =&gt; resolve());let p2 = Promise.resolve(); è¿™ä¸ªè§£å†³çš„æœŸçº¦çš„å€¼å¯¹åº”ç€ä¼ ç»™ Promise.resolve()çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚ä½¿ç”¨è¿™ä¸ªé™æ€æ–¹æ³•ï¼Œå®é™…ä¸Šå¯ä»¥æŠŠä»»ä½•å€¼éƒ½è½¬æ¢ä¸ºä¸€ä¸ªæœŸçº¦ 12345678setTimeout(console.log,0,Promise.resolve());// Promise &lt;resolved&gt;: undefinedsetTimeout(console.log, 0, Promise.resolve(3));// Promise &lt;resolved&gt;: 3// å¤šä½™çš„å‚æ•°ä¼šå¿½ç•¥setTimeout(console.log, 0, Promise.resolve(4, 5, 6));// Promise &lt;resolved&gt;: 4 å¯¹è¿™ä¸ªé™æ€æ–¹æ³•è€Œè¨€ï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°æœ¬èº«æ˜¯ä¸€ä¸ªæœŸçº¦ï¼Œé‚£å®ƒçš„è¡Œä¸ºå°±ç±»ä¼¼äºä¸€ä¸ªç©ºåŒ…è£…ã€‚å› æ­¤ï¼ŒPromise.resolve()å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå¹‚ç­‰æ–¹æ³• 1234567891011let p = Promise.resolve(7);setTimeout(console.log, 0, p === Promise.resolve(p));// truesetTimeout(console.log, 0, p === Promise.resolve(Promise.resolve(p)));// true//è¿™ä¸ªå¹‚ç­‰æ€§ä¼šä¿ç•™ä¼ å…¥æœŸçº¦çš„çŠ¶æ€ï¼šlet p = new Promise(() =&gt; &#123;&#125;);setTimeout(console.log, 0, p); // Promise &lt;pending&gt;setTimeout(console.log, 0, Promise.resolve(p)); // Promise &lt;pending&gt;setTimeout(console.log, 0, p === Promise.resolve(p)); // true æ³¨æ„ï¼Œè¿™ä¸ªé™æ€æ–¹æ³•èƒ½å¤ŸåŒ…è£…ä»»ä½•éæœŸçº¦å€¼ï¼ŒåŒ…æ‹¬é”™è¯¯å¯¹è±¡ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºè§£å†³çš„æœŸçº¦ã€‚å› æ­¤ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºï¼š 1234let p = Promise.resolve(new Error(&#x27;foo&#x27;));setTimeout(console.log, 0, p);// Promise &lt;resolved&gt;: Error: foo Promise.reject()ä¸ Promise.resolve()ç±»ä¼¼ï¼ŒPromise.reject()ä¼šå®ä¾‹åŒ–ä¸€ä¸ªæ‹’ç»çš„æœŸçº¦å¹¶æŠ›å‡ºä¸€ä¸ªå¼‚æ­¥é”™è¯¯ï¼ˆè¿™ä¸ªé”™è¯¯ä¸èƒ½é€šè¿‡ try/catch æ•è·ï¼Œè€Œåªèƒ½é€šè¿‡æ‹’ç»å¤„ç†ç¨‹åºæ•è·ï¼‰ã€‚ä¸‹é¢çš„ä¸¤ä¸ªæœŸçº¦å®ä¾‹å®é™…ä¸Šæ˜¯ä¸€æ ·çš„ï¼š let p1 = new Promise((resolve, reject) =&gt; reject());let p2 = Promise.reject(); è¿™ä¸ªæ‹’ç»çš„æœŸçº¦çš„ç†ç”±å°±æ˜¯ä¼ ç»™ Promise.reject()çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚è¿™ä¸ªå‚æ•°ä¹Ÿä¼šä¼ ç»™åç»­çš„æ‹’ç»å¤„ç†ç¨‹åºï¼š 1234let p = Promise.reject(3);setTimeout(console.log, 0, p); // Promise &lt;rejected&gt;: 3p.then(null, (e) =&gt; setTimeout(console.log, 0, e)); // 3 å…³é”®åœ¨äºï¼ŒPromise.reject()å¹¶æ²¡æœ‰ç…§æ¬ Promise.resolve()çš„å¹‚ç­‰é€»è¾‘ã€‚å¦‚æœç»™å®ƒä¼ ä¸€ä¸ªæœŸçº¦å¯¹è±¡ï¼Œåˆ™è¿™ä¸ªæœŸçº¦ä¼šæˆä¸ºå®ƒè¿”å›çš„æ‹’ç»æœŸçº¦çš„ç†ç”±ï¼š 123setTimeout(console.log, 0, Promise.reject(Promise.resolve()));// Promise &lt;rejected&gt;: Promise &lt;resolved&gt; åŒæ­¥/å¼‚æ­¥æ‰§è¡Œçš„äºŒå…ƒæ€§123456789101112try &#123;throw new Error(&#x27;foo&#x27;);&#125; catch(e) &#123;console.log(e); // Error: foo&#125;try &#123;Promise.reject(new Error(&#x27;bar&#x27;));&#125; catch(e) &#123;console.log(e);&#125;// Uncaught (in promise) Error: bar ç¬¬ä¸€ä¸ª try/catch æŠ›å‡ºå¹¶æ•è·äº†é”™è¯¯ï¼Œç¬¬äºŒä¸ª try/catch æŠ›å‡ºé”™è¯¯å´æ²¡æœ‰æ•è·åˆ°,è¿™é‡Œçš„åŒæ­¥ä»£ç ä¹‹æ‰€ä»¥æ²¡æœ‰æ•è·æœŸçº¦æŠ›å‡ºçš„é”™è¯¯ï¼Œæ˜¯å› ä¸ºå®ƒæ²¡æœ‰é€šè¿‡å¼‚æ­¥æ¨¡å¼æ•è·é”™è¯¯ã€‚ä»è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºæœŸçº¦çœŸæ­£çš„å¼‚æ­¥ç‰¹æ€§ï¼šå®ƒä»¬æ˜¯åŒæ­¥å¯¹è±¡ï¼ˆåœ¨åŒæ­¥æ‰§è¡Œæ¨¡å¼ä¸­ä½¿ç”¨ï¼‰ï¼Œä½†ä¹Ÿæ˜¯å¼‚æ­¥æ‰§è¡Œæ¨¡å¼çš„åª’ä»‹ã€‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œæ‹’ç»æœŸçº¦çš„é”™è¯¯å¹¶æ²¡æœ‰æŠ›åˆ°æ‰§è¡ŒåŒæ­¥ä»£ç çš„çº¿ç¨‹é‡Œï¼Œè€Œæ˜¯é€šè¿‡æµè§ˆå™¨å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—æ¥å¤„ç†çš„ã€‚å› æ­¤ï¼Œtry/catch å—å¹¶ä¸èƒ½æ•è·è¯¥é”™è¯¯ã€‚ä»£ç ä¸€æ—¦å¼€å§‹ä»¥å¼‚æ­¥æ¨¡å¼æ‰§è¡Œï¼Œåˆ™å”¯ä¸€ä¸ä¹‹äº¤äº’çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨å¼‚æ­¥ç»“æ„â€”â€”æ›´å…·ä½“åœ°è¯´ï¼Œå°±æ˜¯æœŸçº¦çš„æ–¹æ³•ã€‚ Promise.prototype.then()Promise.prototype.then()æ˜¯ä¸ºæœŸçº¦å®ä¾‹æ·»åŠ å¤„ç†ç¨‹åºçš„ä¸»è¦æ–¹æ³•ã€‚è¿™ä¸ª then()æ–¹æ³•æ¥æ”¶æœ€å¤š ä¸¤ä¸ªå‚æ•°ï¼šonResolved å¤„ç†ç¨‹åºå’Œ onRejected å¤„ç†ç¨‹åºã€‚è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œå¦‚æœæä¾›çš„è¯ï¼Œåˆ™ä¼šåœ¨æœŸçº¦åˆ†åˆ«è¿›å…¥â€œå…‘ç°â€å’Œâ€œæ‹’ç»â€çŠ¶æ€æ—¶æ‰§è¡Œã€‚ä¼ ç»™ then()çš„ä»»ä½•éå‡½æ•°ç±»å‹çš„å‚æ•°éƒ½ä¼šè¢«é™ é»˜å¿½ç•¥ã€‚å¦‚æœæƒ³åªæä¾› onRejected å‚æ•°ï¼Œé‚£å°±è¦åœ¨ onResolved å‚æ•°çš„ä½ç½®ä¸Šä¼ å…¥ undefinedã€‚è¿™ æ ·æœ‰åŠ©äºé¿å…åœ¨å†…å­˜ä¸­åˆ›å»ºå¤šä½™çš„å¯¹è±¡ 123456789101112131415function onResolved(id) &#123; setTimeout(console.log, 0, id, &#x27;resolved&#x27;); &#125; function onRejected(id) &#123; setTimeout(console.log, 0, id, &#x27;rejected&#x27;); &#125; let p1 = new Promise((resolve, reject) =&gt; setTimeout(resolve, 3000)); let p2 = new Promise((resolve, reject) =&gt; setTimeout(reject, 3000)); p1.then(() =&gt; onResolved(&#x27;p1&#x27;), () =&gt; onRejected(&#x27;p1&#x27;)); p2.then(() =&gt; onResolved(&#x27;p2&#x27;), () =&gt; onRejected(&#x27;p2&#x27;)); //ï¼ˆ3 ç§’åï¼‰// p1 resolved // p2 rejected 1234567891011121314function onResolved(id) &#123; setTimeout(console.log, 0, id, &#x27;resolved&#x27;); &#125; function onRejected(id) &#123; setTimeout(console.log, 0, id, &#x27;rejected&#x27;); &#125; let p1 = new Promise((resolve, reject) =&gt; setTimeout(resolve, 3000)); let p2 = new Promise((resolve, reject) =&gt; setTimeout(reject, 3000)); // éå‡½æ•°å¤„ç†ç¨‹åºä¼šè¢«é™é»˜å¿½ç•¥ï¼Œä¸æ¨èp1.then(&#x27;gobbeltygook&#x27;); // ä¸ä¼  onResolved å¤„ç†ç¨‹åºçš„è§„èŒƒå†™æ³•p2.then(null, () =&gt; onRejected(&#x27;p2&#x27;)); // p2 rejectedï¼ˆ3 ç§’å Promise.prototype.then()æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æœŸçº¦å®ä¾‹ï¼š 12345let p1 = new Promise(() =&gt; &#123;&#125;); let p2 = p1.then(); setTimeout(console.log, 0, p1); // Promise &lt;pending&gt; setTimeout(console.log, 0, p2); // Promise &lt;pending&gt; setTimeout(console.log, 0, p1 === p2); // false è¿™ä¸ªæ–°æœŸçº¦å®ä¾‹åŸºäº onResovled å¤„ç†ç¨‹åºçš„è¿”å›å€¼æ„å»ºã€‚æ¢å¥è¯è¯´ï¼Œè¯¥å¤„ç†ç¨‹åºçš„è¿”å›å€¼ä¼šé€šè¿‡ Promise.resolve()åŒ…è£…æ¥ç”Ÿæˆæ–°æœŸçº¦ã€‚å¦‚æœæ²¡æœ‰æä¾›è¿™ä¸ªå¤„ç†ç¨‹åºï¼Œåˆ™ Promise.resolve()å°±ä¼š åŒ…è£…ä¸Šä¸€ä¸ªæœŸçº¦è§£å†³ä¹‹åçš„å€¼ã€‚å¦‚æœæ²¡æœ‰æ˜¾å¼çš„è¿”å›è¯­å¥ï¼Œåˆ™ Promise.resolve()ä¼šåŒ…è£…é»˜è®¤çš„è¿”å› å€¼ undefinedã€‚ 123456789101112131415161718192021222324252627282930313233let p1 = Promise.resolve(&#x27;foo&#x27;); // è‹¥è°ƒç”¨ then()æ—¶ä¸ä¼ å¤„ç†ç¨‹åºï¼Œåˆ™åŸæ ·å‘åä¼ let p2 = p1.then();setTimeout(console.log, 0, p2); // Promise &lt;resolved&gt;: foo // è¿™äº›éƒ½ä¸€æ ·let p3 = p1.then(() =&gt; undefined); let p4 = p1.then(() =&gt; &#123;&#125;); let p5 = p1.then(() =&gt; Promise.resolve()); setTimeout(console.log, 0, p3); // Promise &lt;resolved&gt;: undefined setTimeout(console.log, 0, p4); // Promise &lt;resolved&gt;: undefined setTimeout(console.log, 0, p5); // Promise &lt;resolved&gt;: undefined //å¦‚æœæœ‰æ˜¾å¼çš„è¿”å›å€¼ï¼Œåˆ™ Promise.resolve()ä¼šåŒ…è£…è¿™ä¸ªå€¼ï¼š// è¿™äº›éƒ½ä¸€æ ·let p6 = p1.then(() =&gt; &#x27;bar&#x27;); let p7 = p1.then(() =&gt; Promise.resolve(&#x27;bar&#x27;)); setTimeout(console.log, 0, p6); // Promise &lt;resolved&gt;: bar setTimeout(console.log, 0, p7); // Promise &lt;resolved&gt;: bar // Promise.resolve()ä¿ç•™è¿”å›çš„æœŸçº¦let p8 = p1.then(() =&gt; new Promise(() =&gt; &#123;&#125;)); let p9 = p1.then(() =&gt; Promise.reject()); // Uncaught (in promise): undefined setTimeout(console.log, 0, p8); // Promise &lt;pending&gt; setTimeout(console.log, 0, p9); // Promise &lt;rejected&gt;: undefined//æŠ›å‡ºå¼‚å¸¸ä¼šè¿”å›æ‹’ç»çš„æœŸçº¦ï¼š let p10 = p1.then(() =&gt; &#123; throw &#x27;baz&#x27;; &#125;); // Uncaught (in promise) baz setTimeout(console.log, 0, p10); // Promise &lt;rejected&gt; baz //æ³¨æ„ï¼Œè¿”å›é”™è¯¯å€¼ä¸ä¼šè§¦å‘ä¸Šé¢çš„æ‹’ç»è¡Œä¸ºï¼Œè€Œä¼šæŠŠé”™è¯¯å¯¹è±¡åŒ…è£…åœ¨ä¸€ä¸ªè§£å†³çš„æœŸçº¦ä¸­ï¼š... let p11 = p1.then(() =&gt; Error(&#x27;qux&#x27;)); setTimeout(console.log, 0, p11); // Promise &lt;resolved&gt;: Error: qux onRejected å¤„ç†ç¨‹åºä¹Ÿä¸ä¹‹ç±»ä¼¼ï¼šonRejected å¤„ç†ç¨‹åºè¿”å›çš„å€¼ä¹Ÿä¼šè¢« Promise.resolve() åŒ…è£…ã€‚ä¹ä¸€çœ‹è¿™å¯èƒ½æœ‰ç‚¹è¿åç›´è§‰ï¼Œä½†æ˜¯æƒ³ä¸€æƒ³ï¼ŒonRejected å¤„ç†ç¨‹åºçš„ä»»åŠ¡ä¸å°±æ˜¯æ•è·å¼‚æ­¥é”™è¯¯å—ï¼Ÿ å› æ­¤ï¼Œæ‹’ç»å¤„ç†ç¨‹åºåœ¨æ•è·é”™è¯¯åä¸æŠ›å‡ºå¼‚å¸¸æ˜¯ç¬¦åˆæœŸçº¦çš„è¡Œä¸ºï¼Œåº”è¯¥è¿”å›ä¸€ä¸ªè§£å†³æœŸçº¦ 12345678910111213141516171819202122232425262728let p1 = Promise.reject(&#x27;foo&#x27;); // è°ƒç”¨ then()æ—¶ä¸ä¼ å¤„ç†ç¨‹åºåˆ™åŸæ ·å‘åä¼ let p2 = p1.then(); // Uncaught (in promise) foosetTimeout(console.log, 0, p2); // Promise &lt;rejected&gt;: foo // è¿™äº›éƒ½ä¸€æ ·let p3 = p1.then(null, () =&gt; undefined); let p4 = p1.then(null, () =&gt; &#123;&#125;); let p5 = p1.then(null, () =&gt; Promise.resolve()); setTimeout(console.log, 0, p3); // Promise &lt;resolved&gt;: undefined setTimeout(console.log, 0, p4); // Promise &lt;resolved&gt;: undefined setTimeout(console.log, 0, p5); // Promise &lt;resolved&gt;: undefined // è¿™äº›éƒ½ä¸€æ ·let p6 = p1.then(null, () =&gt; &#x27;bar&#x27;); let p7 = p1.then(null, () =&gt; Promise.resolve(&#x27;bar&#x27;)); setTimeout(console.log, 0, p6); // Promise &lt;resolved&gt;: bar setTimeout(console.log, 0, p7); // Promise &lt;resolved&gt;: bar // Promise.resolve()ä¿ç•™è¿”å›çš„æœŸçº¦let p8 = p1.then(null, () =&gt; new Promise(() =&gt; &#123;&#125;)); let p9 = p1.then(null, () =&gt; Promise.reject()); // Uncaught (in promise): undefined setTimeout(console.log, 0, p8); // Promise &lt;pending&gt; setTimeout(console.log, 0, p9); // Promise &lt;rejected&gt;: undefined let p10 = p1.then(null, () =&gt; &#123; throw &#x27;baz&#x27;; &#125;); // Uncaught (in promise) baz setTimeout(console.log, 0, p10); // Promise &lt;rejected&gt;: baz let p11 = p1.then(null, () =&gt; Error(&#x27;qux&#x27;)); setTimeout(console.log, 0, p11); // Promise &lt;resolved&gt;: Error: qux Promise.prototype.catch()Promise.prototype.catch()æ–¹æ³•ç”¨äºç»™æœŸçº¦æ·»åŠ æ‹’ç»å¤„ç†ç¨‹åºã€‚è¿™ä¸ªæ–¹æ³•åªæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼š onRejected å¤„ç†ç¨‹åºã€‚äº‹å®ä¸Šï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œè°ƒç”¨å®ƒå°±ç›¸å½“äºè°ƒç”¨ Promise.prototype. then(null, onRejected) 1234567let p = Promise.reject(); let onRejected = function(e) &#123; setTimeout(console.log, 0, &#x27;rejected&#x27;); &#125;; // è¿™ä¸¤ç§æ·»åŠ æ‹’ç»å¤„ç†ç¨‹åºçš„æ–¹å¼æ˜¯ä¸€æ ·çš„ï¼šp.then(null, onRejected); // rejected p.catch(onRejected); // rejected Promise.prototype.catch()è¿”å›ä¸€ä¸ªæ–°çš„æœŸçº¦å®ä¾‹ï¼š 12345let p1 = new Promise(() =&gt; &#123;&#125;); let p2 = p1.catch(); setTimeout(console.log, 0, p1); // Promise &lt;pending&gt; setTimeout(console.log, 0, p2); // Promise &lt;pending&gt; setTimeout(console.log, 0, p1 === p2); // false Promise.prototype.finally()Promise.prototype.finally()æ–¹æ³•ç”¨äºç»™æœŸçº¦æ·»åŠ  onFinally å¤„ç†ç¨‹åºï¼Œè¿™ä¸ªå¤„ç†ç¨‹åºåœ¨æœŸ çº¦è½¬æ¢ä¸ºè§£å†³æˆ–æ‹’ç»çŠ¶æ€æ—¶éƒ½ä¼šæ‰§è¡Œã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥é¿å… onResolved å’Œ onRejected å¤„ç†ç¨‹åºä¸­å‡º ç°å†—ä½™ä»£ç ã€‚ä½† onFinally å¤„ç†ç¨‹åºæ²¡æœ‰åŠæ³•çŸ¥é“æœŸçº¦çš„çŠ¶æ€æ˜¯è§£å†³è¿˜æ˜¯æ‹’ç»ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨æ¸…ç†ä»£ç  1234567let p1 = Promise.resolve(); let p2 = Promise.reject(); let onFinally = function() &#123; setTimeout(console.log, 0, &#x27;Finally!&#x27;) &#125; p1.finally(onFinally); // Finally p2.finally(onFinally); // Finally Promise.prototype.finally()æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æœŸçº¦å®ä¾‹ï¼š 12345let p1 = new Promise(() =&gt; &#123;&#125;); let p2 = p1.finally();setTimeout(console.log, 0, p1); // Promise &lt;pending&gt; setTimeout(console.log, 0, p2); // Promise &lt;pending&gt; setTimeout(console.log, 0, p1 === p2); // false è¿™ä¸ªæ–°æœŸçº¦å®ä¾‹ä¸åŒäº then()æˆ– catch()æ–¹å¼è¿”å›çš„å®ä¾‹ã€‚å› ä¸º onFinally è¢«è®¾è®¡ä¸ºä¸€ä¸ªçŠ¶æ€ æ— å…³çš„æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹å®ƒå°†è¡¨ç°ä¸ºçˆ¶æœŸçº¦çš„ä¼ é€’ 1234567891011121314151617181920212223242526let p1 = Promise.resolve(&#x27;foo&#x27;); // è¿™é‡Œéƒ½ä¼šåŸæ ·åä¼ let p2 = p1.finally(); let p3 = p1.finally(() =&gt; undefined); let p4 = p1.finally(() =&gt; &#123;&#125;); let p5 = p1.finally(() =&gt; Promise.resolve()); let p6 = p1.finally(() =&gt; &#x27;bar&#x27;); let p7 = p1.finally(() =&gt; Promise.resolve(&#x27;bar&#x27;)); let p8 = p1.finally(() =&gt; Error(&#x27;qux&#x27;)); setTimeout(console.log, 0, p2); // Promise &lt;resolved&gt;: foo setTimeout(console.log, 0, p3); // Promise &lt;resolved&gt;: foo setTimeout(console.log, 0, p4); // Promise &lt;resolved&gt;: foo setTimeout(console.log, 0, p5); // Promise &lt;resolved&gt;: foo setTimeout(console.log, 0, p6); // Promise &lt;resolved&gt;: foo setTimeout(console.log, 0, p7); // Promise &lt;resolved&gt;: foo setTimeout(console.log, 0, p8); // Promise &lt;resolved&gt;: foo //å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªå¾…å®šçš„æœŸçº¦ï¼Œæˆ–è€… onFinally å¤„ç†ç¨‹åºæŠ›å‡ºäº†é”™è¯¯ï¼ˆæ˜¾å¼æŠ›å‡ºæˆ–è¿”å›äº†ä¸€ä¸ªæ‹’ç»æœŸçº¦ï¼‰ï¼Œåˆ™ä¼šè¿”å›ç›¸åº”çš„æœŸçº¦ï¼ˆå¾…å®šæˆ–æ‹’ç»ï¼‰// Promise.resolve()ä¿ç•™è¿”å›çš„æœŸçº¦let p9 = p1.finally(() =&gt; new Promise(() =&gt; &#123;&#125;)); let p10 = p1.finally(() =&gt; Promise.reject()); // Uncaught (in promise): undefined setTimeout(console.log, 0, p9); // Promise &lt;pending&gt; setTimeout(console.log, 0, p10); // Promise &lt;rejected&gt;: undefined let p11 = p1.finally(() =&gt; &#123; throw &#x27;baz&#x27;; &#125;); // Uncaught (in promise) baz setTimeout(console.log, 0, p11); // Promise &lt;rejected&gt;: baz éé‡å…¥æœŸçº¦æ–¹æ³•å½“æœŸçº¦è¿›å…¥è½å®šçŠ¶æ€æ—¶ï¼Œä¸è¯¥çŠ¶æ€ç›¸å…³çš„å¤„ç†ç¨‹åºä»…ä»…ä¼šè¢«æ’æœŸï¼Œè€Œéç«‹å³æ‰§è¡Œã€‚è·Ÿåœ¨æ·»åŠ è¿™ä¸ªå¤„ ç†ç¨‹åºçš„ä»£ç ä¹‹åçš„åŒæ­¥ä»£ç ä¸€å®šä¼šåœ¨å¤„ç†ç¨‹åºä¹‹å‰å…ˆæ‰§è¡Œã€‚å³ä½¿æœŸçº¦ä¸€å¼€å§‹å°±æ˜¯ä¸é™„åŠ å¤„ç†ç¨‹åºå…³è” çš„çŠ¶æ€ï¼Œæ‰§è¡Œé¡ºåºä¹Ÿæ˜¯è¿™æ ·çš„ã€‚è¿™ä¸ªç‰¹æ€§ç”± JavaScript è¿è¡Œæ—¶ä¿è¯ï¼Œè¢«ç§°ä¸ºâ€œéé‡å…¥â€ï¼ˆnon-reentrancyï¼‰ ç‰¹æ€§ã€‚ 1234567891011121314151617let synchronousResolve; // åˆ›å»ºä¸€ä¸ªæœŸçº¦å¹¶å°†è§£å†³å‡½æ•°ä¿å­˜åœ¨ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸­let p = new Promise((resolve) =&gt; &#123; synchronousResolve = function() &#123; console.log(&#x27;1: invoking resolve()&#x27;); resolve(); console.log(&#x27;2: resolve() returns&#x27;); &#125;; &#125;); p.then(() =&gt; console.log(&#x27;4: then() handler executes&#x27;)); synchronousResolve(); console.log(&#x27;3: synchronousResolve() returns&#x27;); // å®é™…çš„è¾“å‡ºï¼š// 1: invoking resolve() // 2: resolve() returns // 3: synchronousResolve() returns // 4: then() handler executes åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå³ä½¿æœŸçº¦çŠ¶æ€å˜åŒ–å‘ç”Ÿåœ¨æ·»åŠ å¤„ç†ç¨‹åºä¹‹åï¼Œå¤„ç†ç¨‹åºä¹Ÿä¼šç­‰åˆ°è¿è¡Œçš„æ¶ˆæ¯é˜Ÿåˆ—è®© å®ƒå‡ºåˆ—æ—¶æ‰ä¼šæ‰§è¡Œã€‚ ä¼ é€’è§£å†³å€¼å’Œæ‹’ç»ç†ç”±åˆ°äº†è½å®šçŠ¶æ€åï¼ŒæœŸçº¦ä¼šæä¾›å…¶è§£å†³å€¼ï¼ˆå¦‚æœå…‘ç°ï¼‰æˆ–å…¶æ‹’ç»ç†ç”±ï¼ˆå¦‚æœæ‹’ç»ï¼‰ç»™ç›¸å…³çŠ¶æ€çš„å¤„ç† ç¨‹åºã€‚æ‹¿åˆ°è¿”å›å€¼åï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥å¯¹è¿™ä¸ªå€¼è¿›è¡Œæ“ä½œã€‚æ¯”å¦‚ï¼Œç¬¬ä¸€æ¬¡ç½‘ç»œè¯·æ±‚è¿”å›çš„ JSON æ˜¯å‘é€ç¬¬ äºŒæ¬¡è¯·æ±‚å¿…éœ€çš„æ•°æ®ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„å€¼å°±åº”è¯¥ä¼ ç»™ onResolved å¤„ç†ç¨‹åºç»§ç»­å¤„ç†ã€‚å½“ç„¶ï¼Œå¤± è´¥çš„ç½‘ç»œè¯·æ±‚ä¹Ÿåº”è¯¥æŠŠ HTTP çŠ¶æ€ç ä¼ ç»™ onRejected å¤„ç†ç¨‹åºã€‚ åœ¨æ‰§è¡Œå‡½æ•°ä¸­ï¼Œè§£å†³çš„å€¼å’Œæ‹’ç»çš„ç†ç”±æ˜¯åˆ†åˆ«ä½œä¸º resolve()å’Œ reject()çš„ç¬¬ä¸€ä¸ªå‚æ•°å¾€åä¼  çš„ã€‚ç„¶åï¼Œè¿™äº›å€¼åˆä¼šä¼ ç»™å®ƒä»¬å„è‡ªçš„å¤„ç†ç¨‹åºï¼Œä½œä¸º onResolved æˆ– onRejected å¤„ç†ç¨‹åºçš„å”¯ä¸€ å‚æ•°ã€‚ 1234let p1 = new Promise((resolve, reject) =&gt; resolve(&#x27;foo&#x27;)); p1.then((value) =&gt; console.log(value)); // foo let p2 = new Promise((resolve, reject) =&gt; reject(&#x27;bar&#x27;)); p2.catch((reason) =&gt; console.log(reason)); // bar then()å’Œ catch()çš„ onRejected å¤„ç†ç¨‹åºåœ¨è¯­ä¹‰ä¸Šç›¸å½“äº try/catchã€‚å‡ºå‘ç‚¹éƒ½æ˜¯æ•è·é”™è¯¯ä¹‹ åå°†å…¶éš”ç¦»ï¼ŒåŒæ—¶ä¸å½±å“æ­£å¸¸é€»è¾‘æ‰§è¡Œã€‚ä¸ºæ­¤ï¼ŒonRejected å¤„ç†ç¨‹åºçš„ä»»åŠ¡åº”è¯¥æ˜¯åœ¨æ•è·å¼‚æ­¥é”™è¯¯ä¹‹ åè¿”å›ä¸€ä¸ªè§£å†³çš„æœŸçº¦ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­å¯¹æ¯”äº†åŒæ­¥é”™è¯¯å¤„ç†ä¸å¼‚æ­¥é”™è¯¯å¤„ç†ï¼š 123456789101112131415161718192021console.log(&#x27;begin synchronous execution&#x27;); try &#123; throw Error(&#x27;foo&#x27;); &#125; catch(e) &#123; console.log(&#x27;caught error&#x27;, e); &#125; console.log(&#x27;continue synchronous execution&#x27;); // begin synchronous execution // caught error Error: foo // continue synchronous execution new Promise((resolve, reject) =&gt; &#123; console.log(&#x27;begin asynchronous execution&#x27;); reject(Error(&#x27;bar&#x27;)); &#125;).catch((e) =&gt; &#123; console.log(&#x27;caught error&#x27;, e); &#125;).then(() =&gt; &#123; console.log(&#x27;continue asynchronous execution&#x27;); &#125;); // begin asynchronous execution // caught error Error: bar // continue asynchronous execution æœŸçº¦è¿é”æ¯ä¸ªåç»­çš„å¤„ç†ç¨‹åºéƒ½ä¼šç­‰å¾…å‰ä¸€ä¸ªæœŸçº¦è§£å†³ï¼Œç„¶åå®ä¾‹åŒ–ä¸€ä¸ªæ–°æœŸçº¦å¹¶è¿”å›å®ƒã€‚è¿™ç§ç»“æ„å¯ä»¥ç®€ æ´åœ°å°†å¼‚æ­¥ä»»åŠ¡ä¸²è¡ŒåŒ–ï¼Œè§£å†³ä¹‹å‰ä¾èµ–å›è°ƒçš„éš¾é¢˜ 1234567891011121314function delayedResolve(str) &#123; return new Promise((resolve, reject) =&gt; &#123; console.log(str); setTimeout(resolve, 1000); &#125;); &#125;delayedResolve(&#x27;p1 executor&#x27;) .then(() =&gt; delayedResolve(&#x27;p2 executor&#x27;)) .then(() =&gt; delayedResolve(&#x27;p3 executor&#x27;)) .then(() =&gt; delayedResolve(&#x27;p4 executor&#x27;)) // p1 executorï¼ˆ1 ç§’åï¼‰// p2 executorï¼ˆ2 ç§’åï¼‰// p3 executorï¼ˆ3 ç§’åï¼‰// p4 executorï¼ˆ4 ç§’åï¼‰ Promise.all()Promise.allæ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼Œè¿™ä¸ªé™æ€æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œå°†å‚æ•°è½¬ä¸º Promise å®ä¾‹ï¼Œå†åŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ åˆæˆçš„æœŸçº¦åªä¼šåœ¨æ¯ä¸ªåŒ…å«çš„æœŸçº¦éƒ½è§£å†³ä¹‹åæ‰è§£å†³ å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªåŒ…å«çš„æœŸçº¦å¾…å®šï¼Œåˆ™åˆæˆçš„æœŸçº¦ä¹Ÿä¼šå¾…å®šã€‚å¦‚æœæœ‰ä¸€ä¸ªåŒ…å«çš„æœŸçº¦æ‹’ç»ï¼Œåˆ™åˆæˆçš„ æœŸçº¦ä¹Ÿä¼šæ‹’ç» 1234567//æ°¸è¿œå¾…å®šlet p1=Promise.all([new Promise(()=&gt;&#123;&#125;)]);setTimeout(console.log,0,p1);//Promise &lt;pending&gt;//ä¸€æ¬¡æ‹’ç»ä¼šå¯¼è‡´æœ€ç»ˆæœŸçº¦æ‹’ç»let p2=Promise.all([Promise.resolve(),Promise.reject(),Promise.resolve()]);setTimeout(console.log,0,p2);//Promise &lt;rejected&gt;//Uncaught (in promise) undefined å¦‚æœæ‰€æœ‰æœŸçº¦éƒ½æˆåŠŸè§£å†³ï¼Œåˆ™åˆæˆæœŸçº¦çš„è§£å†³å€¼å°±æ˜¯æ‰€æœ‰åŒ…å«æœŸçº¦è§£å†³å€¼çš„æ•°ç»„ï¼ŒæŒ‰ç…§è¿­ä»£å™¨é¡ºåº: 1234567891011121314let p = Promise.all([ Promise.resolve(3), Promise.resolve(), Promise.resolve(4) ]); p.then((values) =&gt; setTimeout(console.log, 0, values)); // [3, undefined, 4] // è™½ç„¶åªæœ‰ç¬¬ä¸€ä¸ªæœŸçº¦çš„æ‹’ç»ç†ç”±ä¼šè¿›å…¥ // æ‹’ç»å¤„ç†ç¨‹åºï¼Œç¬¬äºŒä¸ªæœŸçº¦çš„æ‹’ç»ä¹Ÿ// ä¼šè¢«é™é»˜å¤„ç†ï¼Œä¸ä¼šæœ‰é”™è¯¯è·‘æ‰let p = Promise.all([ Promise.reject(3), new Promise((resolve, reject) =&gt; setTimeout(reject, 1000)) ]); p.catch((reason) =&gt; setTimeout(console.log, 0, reason)); // 3 Promise.race()Promise.race()é™æ€æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…è£…æœŸçº¦ï¼Œæ˜¯ä¸€ç»„é›†åˆä¸­æœ€å…ˆè§£å†³æˆ–æ‹’ç»çš„æœŸçº¦çš„é•œåƒã€‚è¿™ä¸ª æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªæ–°æœŸçº¦ 12345678910111213141516171819// è§£å†³å…ˆå‘ç”Ÿï¼Œè¶…æ—¶åçš„æ‹’ç»è¢«å¿½ç•¥let p1 = Promise.race([ Promise.resolve(3), new Promise((resolve, reject) =&gt; setTimeout(reject, 1000)) ]); setTimeout(console.log, 0, p1); // Promise &lt;resolved&gt;: 3 // æ‹’ç»å…ˆå‘ç”Ÿï¼Œè¶…æ—¶åçš„è§£å†³è¢«å¿½ç•¥let p2 = Promise.race([ Promise.reject(4), new Promise((resolve, reject) =&gt; setTimeout(resolve, 1000)) ]); setTimeout(console.log, 0, p2); // Promise &lt;rejected&gt;: 4 // è¿­ä»£é¡ºåºå†³å®šäº†è½å®šé¡ºåºlet p3 = Promise.race([ Promise.resolve(5), Promise.resolve(6), Promise.resolve(7) ]); setTimeout(console.log, 0, p3); // Promise &lt;resolved&gt;: 5 ä¸²è¡ŒæœŸçº¦åˆæˆ1234567function addTwo(x)&#123;return x+1;&#125;function addThree(x)&#123;return x+3;&#125;function addFive(x)&#123;return x+5;&#125;function addTen(x)&#123; return [addTwo,addThree,addFive].reduce((promise,fn)=&gt;promise.then(fn),Promise.resolve(x));&#125;addTen(8).then(console.log); donePromise å¯¹è±¡çš„å›è°ƒé“¾ï¼Œä¸ç®¡ä»¥thenæ–¹æ³•æˆ–catchæ–¹æ³•ç»“å°¾ï¼Œè¦æ˜¯æœ€åä¸€ä¸ªæ–¹æ³•æŠ›å‡ºé”™è¯¯ï¼Œéƒ½æœ‰å¯èƒ½æ— æ³•æ•æ‰åˆ°ï¼ˆå› ä¸º Promise å†…éƒ¨çš„é”™è¯¯ä¸ä¼šå†’æ³¡åˆ°å…¨å±€ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æä¾›ä¸€ä¸ªdoneæ–¹æ³•ï¼Œæ€»æ˜¯å¤„äºå›è°ƒé“¾çš„å°¾ç«¯ï¼Œä¿è¯æŠ›å‡ºä»»ä½•å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚ 12345678910111213asyncFunc() .then(f1) .catch(r1) .then(f2) .done();Promise.prototype.done=function(onResolved,onRejected)&#123; this.then(onResolved,onRejected) .catch(function(reason)&#123; //æŠ›å‡ºä¸€ä¸ªå…¨å±€é”™è¯¯ setTimeout(()=&gt;&#123;throw reason&#125;,0); &#125;); &#125; finallyfinally()fæ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡Promiseå¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œï¼Œå®ƒæ¥å—ä¸€ä¸ªæ™®é€šçš„å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¸ç®¡æ€æ ·éƒ½å¿…é¡»æ‰§è¡Œã€‚ 123456789101112server.listen(0) .then(function () &#123; // run test &#125;) .finally(server.stop);Promise.prototype.finally=function(callback)&#123; let P=this.constructor; return this.then( value=&gt;P.resolve(callback()).then(()=&gt;value), reason=&gt;P.resolve(callback()).then(()=&gt;&#123;throw reason&#125;) ); &#125; ç”¨é€”å°†å›¾ç‰‡çš„åŠ è½½å†™æˆä¸€ä¸ªPromiseï¼Œä¸€æ—¦åŠ è½½å®Œæˆï¼ŒPromiseçš„çŠ¶æ€å‘ç”Ÿå˜åŒ– 123456789//åŠ è½½å›¾ç‰‡ const preloadImage=function(path)&#123; return new Promise(function(resolve,reject)&#123; const image=new Image(); image.onload=resolve; image.onerror=reject; image.src=path; &#125;) &#125;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"json","slug":"json","date":"2022-01-04T08:03:00.000Z","updated":"2022-01-04T09:00:12.474Z","comments":true,"path":"2022/01/04/json/","link":"","permalink":"https://coloey.github.io/2022/01/04/json/","excerpt":"","text":"æŠŠå®ƒå½“æˆä¸€ç§æ•°æ®æ ¼å¼ï¼Œè€Œä¸æ˜¯ç¼–ç¨‹è¯­è¨€ã€‚JSON ä¸å±äº JavaScriptï¼Œå®ƒä»¬åªæ˜¯æ‹¥æœ‰ç›¸åŒçš„è¯­æ³•è€Œå·²ã€‚JSON ä¹Ÿä¸æ˜¯åªèƒ½åœ¨ JavaScript ä¸­ä½¿ç”¨ï¼Œå®ƒæ˜¯ä¸€ç§é€šç”¨æ•°æ®æ ¼å¼ã€‚å¾ˆå¤šè¯­è¨€éƒ½æœ‰è§£æå’Œåºåˆ—åŒ– JSON çš„å†…ç½®èƒ½åŠ›ã€‚ è¯­æ³• ç®€å•å€¼ï¼šå­—ç¬¦ä¸²ã€æ•°å€¼ã€å¸ƒå°”å€¼å’Œ null å¯ä»¥åœ¨ JSON ä¸­å‡ºç°ï¼Œå°±åƒåœ¨ JavaScript ä¸­ä¸€æ ·ã€‚ç‰¹æ®Šå€¼ undefined ä¸å¯ä»¥ã€‚ å¯¹è±¡ï¼šç¬¬ä¸€ç§å¤æ‚æ•°æ®ç±»å‹ï¼Œå¯¹è±¡è¡¨ç¤ºæœ‰åºé”®/å€¼å¯¹ã€‚æ¯ä¸ªå€¼å¯ä»¥æ˜¯ç®€å•å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤æ‚ç±»å‹ã€‚ æ•°ç»„ï¼šç¬¬äºŒç§å¤æ‚æ•°æ®ç±»å‹ï¼Œæ•°ç»„è¡¨ç¤ºå¯ä»¥é€šè¿‡æ•°å€¼ç´¢å¼•è®¿é—®çš„å€¼çš„æœ‰åºåˆ—è¡¨ã€‚æ•°ç»„çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ŒåŒ…æ‹¬ç®€å•å€¼ã€å¯¹è±¡ï¼Œç”šè‡³å…¶ä»–æ•°ç»„ã€‚ ç®€å•å€¼JavaScript å­—ç¬¦ä¸²ä¸ JSON å­—ç¬¦ä¸²çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼ŒJSON å­—ç¬¦ä¸²å¿…é¡»ä½¿ç”¨åŒå¼•å·ï¼ˆå•å¼•å·ä¼šå¯¼è‡´è¯­æ³•é”™è¯¯ï¼‰ã€‚å¸ƒå°”å€¼å’Œ null æœ¬èº«ä¹Ÿæ˜¯æœ‰æ•ˆçš„ JSON å€¼ å¯¹è±¡ä¸ JavaScript å¯¹è±¡å­—é¢é‡ç›¸æ¯”ï¼ŒJSON ä¸»è¦æœ‰ä¸¤å¤„ä¸åŒã€‚é¦–å…ˆï¼Œæ²¡æœ‰å˜é‡å£°æ˜ï¼ˆJSON ä¸­æ²¡æœ‰å˜é‡ï¼‰ã€‚å…¶æ¬¡ï¼Œæœ€åæ²¡æœ‰åˆ†å·ï¼ˆä¸éœ€è¦ï¼Œå› ä¸ºä¸æ˜¯ JavaScript è¯­å¥ï¼‰ã€‚åŒæ ·ï¼Œç”¨å¼•å·å°†å±æ€§ååŒ…å›´èµ·æ¥æ‰æ˜¯æœ‰æ•ˆçš„JSONã€‚å±æ€§çš„å€¼å¯ä»¥æ˜¯ç®€å•å€¼æˆ–å¤æ‚æ•°æ®ç±»å‹å€¼ï¼Œåè€…å¯ä»¥åœ¨å¯¹è±¡ä¸­å†åµŒå…¥å¯¹è±¡. 123456789&#123;&quot;name&quot;: &quot;Nicholas&quot;,&quot;age&quot;: 29,&quot;school&quot;: &#123;&quot;name&quot;: &quot;Merrimack College&quot;,&quot;location&quot;: &quot;North Andover, MA&quot;&#125;&#125; æ•°ç»„æ•°ç»„åœ¨ JSON ä¸­ä½¿ç”¨ JavaScript çš„æ•°ç»„å­—é¢é‡å½¢å¼è¡¨ç¤º. JavaScript 12let values = [25, &quot;hi&quot;, true]; Json 1[25,&quot;hi&quot;,true] JavaScriptåºåˆ—åŒ–ä¸ºJsonstringfy()ï¼šåœ¨åºåˆ—åŒ– JavaScript å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰å‡½æ•°å’ŒåŸå‹æˆå‘˜éƒ½ä¼šæœ‰æ„åœ°åœ¨ç»“æœä¸­çœç•¥ã€‚æ­¤å¤–ï¼Œå€¼ä¸º undefinedçš„ä»»ä½•å±æ€§ä¹Ÿä¼šè¢«è·³è¿‡ã€‚æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯æ‰€æœ‰å®ä¾‹å±æ€§å‡ä¸ºæœ‰æ•ˆ JSON æ•°æ®ç±»å‹çš„è¡¨ 1234567891011let book = &#123;title: &quot;Professional JavaScript&quot;,authors: [&quot;Nicholas C. Zakas&quot;,&quot;Matt Frisbie&quot;],edition: 4,year: 2017&#125;;let jsonText = JSON.stringify(book); ç»“æœï¼š {â€œtitleâ€:â€Professional JavaScriptâ€,â€authorsâ€:[â€œNicholas C. Zakasâ€,â€Matt Frisbieâ€],â€œeditionâ€:4,â€yearâ€:2017} è¿˜å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚è¿™ä¸¤ä¸ªå‚æ•°å¯ä»¥ç”¨äºæŒ‡å®šå…¶ä»–åºåˆ—åŒ– JavaScript å¯¹è±¡çš„æ–¹å¼ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿‡æ»¤å™¨ï¼Œå¯ä»¥æ˜¯æ•°ç»„æˆ–å‡½æ•°ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨äºç¼©è¿›ç»“æœ JSON å­—ç¬¦ä¸²çš„é€‰é¡¹ã€‚ 1234567891011let book = &#123;title: &quot;Professional JavaScript&quot;,authors: [&quot;Nicholas C. Zakas&quot;,&quot;Matt Frisbie&quot;],edition: 4,year: 2017&#125;;let jsonText = JSON.stringify(book, [&quot;title&quot;, &quot;edition&quot;]); å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™è¡Œä¸ºåˆæœ‰ä¸åŒã€‚æä¾›çš„å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå±æ€§åï¼ˆkeyï¼‰å’Œå±æ€§å€¼ï¼ˆvalueï¼‰ã€‚å¯ä»¥æ ¹æ®è¿™ä¸ª key å†³å®šè¦å¯¹ç›¸åº”å±æ€§æ‰§è¡Œä»€ä¹ˆæ“ä½œã€‚è¿™ä¸ª key å§‹ç»ˆæ˜¯å­—ç¬¦ä¸²ï¼Œåªæ˜¯åœ¨å€¼ä¸å±äºæŸä¸ªé”®/å€¼å¯¹æ—¶ä¼šæ˜¯ç©ºå­—ç¬¦ä¸² è¿”å›çš„å€¼å°±æ˜¯ç›¸åº” key åº”è¯¥åŒ…å«çš„ç»“æœã€‚æ³¨æ„ï¼Œè¿”å› undefined ä¼šå¯¼è‡´å±æ€§è¢«å¿½ç•¥ 1234567891011121314151617181920212223242526let book = &#123;title: &quot;Professional JavaScript&quot;,authors: [&quot;Nicholas C. Zakas&quot;,&quot;Matt Frisbie&quot;],edition: 4,year: 2017&#125;;let jsonText = JSON.stringify(book, (key, value) =&gt; &#123;switch(key) &#123;case &quot;authors&quot;:return value.join(&quot;,&quot;)case &quot;year&quot;:return 5000;case &quot;edition&quot;:return undefined;default:return value;&#125;&#125;);/*&#123;&quot;title&quot;:&quot;Professional JavaScript&quot;,&quot;authors&quot;:&quot;Nicholas C. Zakas,MattFrisbie&quot;,&quot;year&quot;:5000&#125;*/ JSON.stringify()æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ§åˆ¶ç¼©è¿›å’Œç©ºæ ¼ã€‚åœ¨è¿™ä¸ªå‚æ•°æ˜¯æ•°å€¼æ—¶ï¼Œè¡¨ç¤ºæ¯ä¸€çº§ç¼©è¿›çš„ç©ºæ ¼æ•°ã€‚ 123456789101112let book = &#123;title: &quot;Professional JavaScript&quot;,authors: [ &quot;Nicholas C. Zakas&quot;, &quot;Matt Frisbie&quot;],edition: 4,year: 2017&#125;;let jsonText = JSON.stringify(book, null, 4); toJSON():åœ¨è¦åºåˆ—åŒ–çš„å¯¹è±¡ä¸­æ·»åŠ  toJSON()æ–¹æ³•ï¼Œåºåˆ—åŒ–æ—¶ä¼šåŸºäºè¿™ä¸ªæ–¹æ³•è¿”å›é€‚å½“çš„ JSON è¡¨ç¤º: 12345678910111213let book = &#123;title: &quot;Professional JavaScript&quot;,authors: [&quot;Nicholas C. Zakas&quot;,&quot;Matt Frisbie&quot;],edition: 4,year: 2017,toJSON: function() &#123;//ç®­å¤´å‡½æ•°ä¸èƒ½å®šä¹‰toJSON(),å› ä¸ºå‰ªå¤´å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸæ˜¯å…¨å±€ä½œç”¨åŸŸï¼Œåœ¨è¿™ç§æƒ…å†µä¸åˆé€‚return this.title;&#125;&#125;;let jsonText = JSON.stringify(book);//bookå¯¹è±¡è¿”å›å›¾ä¹¦çš„ä¹¦å(this.title) toJSON()æ–¹æ³•å¯ä»¥ä¸è¿‡æ»¤å‡½æ•°ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨æŠŠå¯¹è±¡ä¼ ç»™ JSON.stringify()æ—¶ä¼šæ‰§è¡Œå¦‚ä¸‹æ­¥éª¤ã€‚ (1) å¦‚æœå¯ä»¥è·å–å®é™…çš„å€¼ï¼Œåˆ™è°ƒç”¨ toJSON()æ–¹æ³•è·å–å®é™…çš„å€¼ï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤çš„åºåˆ—åŒ–ã€‚(2) å¦åˆ™ï¼Œä½¿ç”¨é»˜è®¤åºåˆ—åŒ–æ—¶ï¼Œå¦‚æœæä¾›äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™åº”ç”¨è¿‡æ»¤ã€‚(3) ç¬¬(2)æ­¥è¿”å›çš„æ¯ä¸ªå€¼éƒ½ä¼šç›¸åº”åœ°è¿›è¡Œåºåˆ—åŒ–ã€‚(4) å¦‚æœæä¾›äº†ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œåˆ™ç›¸åº”åœ°è¿›è¡Œç¼©è¿›ã€‚ ES6ä¸­å †JSON.stringfyçš„æ”¹é€ UTF-8 æ ‡å‡†è§„å®šï¼Œ0xD800åˆ°0xDFFFä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œ\\uD834\\uDF06æ˜¯ä¸¤ä¸ªç ç‚¹ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨ä¸€èµ·é…å¯¹ä½¿ç”¨ï¼Œä»£è¡¨å­—ç¬¦ğŒ†ã€‚è¿™æ˜¯ä¸ºäº†è¡¨ç¤ºç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚å•ç‹¬ä½¿ç”¨\\uD834å’Œ\\uDFO6è¿™ä¸¤ä¸ªç ç‚¹æ˜¯ä¸åˆæ³•çš„ï¼Œæˆ–è€…é¢ å€’é¡ºåºä¹Ÿä¸è¡Œï¼Œå› ä¸º\\uDF06\\uD834å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ã€‚ JSON.stringify()çš„é—®é¢˜åœ¨äºï¼Œå®ƒå¯èƒ½è¿”å›0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ã€‚ 1JSON.stringify(&#x27;\\u&#123;D834&#125;&#x27;) // &quot;\\u&#123;D834&#125;&quot; ä¸ºäº†ç¡®ä¿è¿”å›çš„æ˜¯åˆæ³•çš„ UTF-8 å­—ç¬¦ï¼ŒES2019 æ”¹å˜äº†JSON.stringify()çš„è¡Œä¸ºã€‚å¦‚æœé‡åˆ°0xD800åˆ°0xDFFFä¹‹é—´çš„å•ä¸ªç ç‚¹ï¼Œæˆ–è€…ä¸å­˜åœ¨çš„é…å¯¹å½¢å¼ï¼Œå®ƒä¼šè¿”å›è½¬ä¹‰å­—ç¬¦ä¸²ï¼Œç•™ç»™åº”ç”¨è‡ªå·±å†³å®šä¸‹ä¸€æ­¥çš„å¤„ç†ã€‚ 1JSON.stringify(&#x27;\\u&#123;D834&#125;&#x27;) // &quot;&quot;\\\\uD834&quot;&quot;JSON.stringify(&#x27;\\uDF06\\uD834&#x27;) // &quot;&quot;\\\\udf06\\\\ud834&quot;&quot; è§£æé€‰é¡¹JSON.parse():æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°ç§°ä¸ºè¿˜åŸå‡½æ•°ï¼Œè¿˜åŸå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå±æ€§åkeyå’Œå±æ€§åvalueï¼Œå¦‚æœè¿˜åŸå‡½æ•°è¿”å›undefinedï¼Œåˆ™ç»“æœä¸­åˆ é™¤ç›¸åº”é”®ï¼Œå¦‚æœè¿”å›äº†å…¶ä»–ä»»ä½•å€¼ï¼Œåˆ™è¯¥å€¼å°±ä¼šæˆä¸ºç›¸åº”é”®çš„å€¼æ’å…¥åˆ°ç»“æœä¸­ã€‚ 123456789101112131415let book = &#123;title: &quot;Professional JavaScript&quot;,authors: [&quot;Nicholas C. Zakas&quot;,&quot;Matt Frisbie&quot;],edition: 4,year: 2017,releaseDate: new Date(2017, 11, 1)&#125;;let jsonText = JSON.stringify(book);let bookCopy = JSON.parse(jsonText,(key, value) =&gt; key == &quot;releaseDate&quot; ? new Date(value) : value);alert(bookCopy.releaseDate.getFullYear());//å¯¹è±¡ä»™è´åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œåˆè¢«é‡æ–°è§£æä¸ºä¸€ä¸ªå¯¹è±¡bookCopy,è¿˜åŸå‡½æ•°æŸ¥æ‰¾&quot;releaseDate&quot;é”®ï¼Œæ‰¾åˆ°åæ ¹è™æ—¥æœŸå­—ç¬¦åˆ›å»ºæ–°çš„Dateå¯¹è±¡ï¼Œå¾—åˆ°çš„bookCopy.releaseDateå±æ€§åˆå˜å›Dateå¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨å…¶getFullYear()æ–¹æ³•","categories":[],"tags":[]},{"title":"å­—ç¬¦è¡¨ç¤º","slug":"å­—ç¬¦è¡¨ç¤º","date":"2022-01-04T03:58:13.000Z","updated":"2022-01-04T04:14:36.508Z","comments":true,"path":"2022/01/04/å­—ç¬¦è¡¨ç¤º/","link":"","permalink":"https://coloey.github.io/2022/01/04/%E5%AD%97%E7%AC%A6%E8%A1%A8%E7%A4%BA/","excerpt":"","text":"JavaScriptå­—ç¬¦è¡¨ç¤ºJavaScript å­—ç¬¦ä¸²ç”± 16 ä½ç å…ƒï¼ˆcode unitï¼‰ç»„æˆã€‚å¯¹å¤šæ•°å­—ç¬¦æ¥è¯´ï¼Œæ¯ 16 ä½ç å…ƒå¯¹åº”ä¸€ä¸ªå­—ç¬¦ã€‚æ¢å¥è¯è¯´ï¼Œå­—ç¬¦ä¸²çš„ length å±æ€§è¡¨ç¤ºå­—ç¬¦ä¸²åŒ…å«å¤šå°‘ 16 ä½ç å…ƒ JavaScript å­—ç¬¦ä¸²ä½¿ç”¨äº†ä¸¤ç§ Unicode ç¼–ç æ··åˆçš„ç­–ç•¥ï¼šUCS-2 å’Œ UTF-16ã€‚å¯¹äºå¯ä»¥é‡‡ç”¨ 16 ä½ç¼–ç çš„å­—ç¬¦ï¼ˆU+0000~U+FFFFï¼‰ï¼Œè¿™ä¸¤ç§ç¼–ç å®é™…ä¸Šæ˜¯ä¸€æ ·çš„ã€‚ æŸ¥çœ‹æŒ‡å®šç å…ƒcharCodeAt()123456let message = &quot;abcde&quot;;// Unicode &quot;Latin small letter C&quot;çš„ç¼–ç æ˜¯ U+0063console.log(message.charCodeAt(2)); // 99// åè¿›åˆ¶ 99 ç­‰äºåå…­è¿›åˆ¶ 63console.log(99 === 0x63); // true è¿™ä¸ªå¯¹åº”å…³ç³»åœ¨æ‰©å±•åˆ° Unicode å¢è¡¥å­—ç¬¦å¹³é¢æ—¶å°±ä¸æˆç«‹äº†ã€‚å³ 16 ä½åªèƒ½å”¯ä¸€è¡¨ç¤º,65 536 ä¸ªå­—ç¬¦ã€‚è¿™å¯¹äºå¤§å¤šæ•°è¯­è¨€å­—ç¬¦é›†æ˜¯è¶³å¤Ÿäº†ï¼Œåœ¨ Unicode ä¸­ç§°ä¸ºåŸºæœ¬å¤šè¯­è¨€å¹³é¢ï¼ˆBMPï¼‰ã€‚ä¸ºäº†è¡¨ç¤ºæ›´å¤šçš„å­—ç¬¦ï¼ŒUnicode é‡‡ç”¨äº†ä¸€ä¸ªç­–ç•¥ï¼Œå³æ¯ä¸ªå­—ç¬¦ä½¿ç”¨å¦å¤– 16 ä½å»é€‰æ‹©ä¸€ä¸ªå¢è¡¥å¹³é¢ã€‚è¿™ç§æ¯ä¸ªå­—ç¬¦ä½¿ç”¨ä¸¤ä¸ª 16 ä½ç å…ƒçš„ç­–ç•¥ç§°ä¸ºä»£ç†å¯¹ã€‚ codePointAt()ä¸ºæ­£ç¡®è§£ææ—¢åŒ…å«å•ç å…ƒå­—ç¬¦åˆåŒ…å«ä»£ç†å¯¹å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨ codePointAt()æ¥ä»£æ›¿charCodeAt()ã€‚è·Ÿä½¿ç”¨ charCodeAt()æ—¶ç±»ä¼¼ï¼ŒcodePointAt()æ¥æ”¶ 16 ä½ç å…ƒçš„ç´¢å¼•å¹¶è¿”å›è¯¥ç´¢å¼•ä½ç½®ä¸Šçš„ç ç‚¹ï¼ˆcode pointï¼‰ã€‚ç ç‚¹æ˜¯ Unicode ä¸­ä¸€ä¸ªå­—ç¬¦çš„å®Œæ•´æ ‡è¯†ã€‚æ¯”å¦‚ï¼Œâ€câ€çš„ç ç‚¹æ˜¯ 0x0063ï¼Œè€Œâ€â˜ºâ€çš„ç ç‚¹æ˜¯ 0x1F60Aã€‚ç ç‚¹å¯èƒ½æ˜¯ 16 ä½ï¼Œä¹Ÿå¯èƒ½æ˜¯ 32 ä½ï¼Œè€Œ codePointAt()æ–¹æ³•å¯ä»¥ä»æŒ‡å®šç å…ƒä½ç½®è¯†åˆ«å®Œæ•´çš„ç ç‚¹ã€‚ 123456let message = &quot;abâ˜ºde&quot;;console.log(message.codePointAt(1)); // 98console.log(message.codePointAt(2)); // 128522console.log(message.codePointAt(3)); // 56842console.log(message.codePointAt(4)); // 100 ç»™å®šUTF-16ç åŸåˆ›å»ºå­—ç¬¦fromCharCode()12345678910111213// Unicode &quot;Latin small letter A&quot;çš„ç¼–ç æ˜¯ U+0061// Unicode &quot;Latin small letter B&quot;çš„ç¼–ç æ˜¯ U+0062// Unicode &quot;Latin small letter C&quot;çš„ç¼–ç æ˜¯ U+0063// Unicode &quot;Latin small letter D&quot;çš„ç¼–ç æ˜¯ U+0064// Unicode &quot;Latin small letter E&quot;çš„ç¼–ç æ˜¯ U+0065console.log(String.fromCharCode(0x61, 0x62, 0x63, 0x64, 0x65)); // &quot;abcde&quot;// 0x0061 === 97// 0x0062 === 98// 0x0063 === 99// 0x0064 === 100// 0x0065 === 101console.log(String.fromCharCode(97, 98, 99, 100, 101)); // &quot;abcde&quot; fromCodePoint()fromCodePoint()ï¼šè¿™ä¸ªæ–¹æ³•æ¥æ”¶ä»»æ„æ•°é‡çš„ç ç‚¹ï¼Œè¿”å›å¯¹åº”å­—ç¬¦æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦ä¸² 1234console.log(String.fromCharCode(97, 98, 55357, 56842, 100, 101)); // abâ˜ºdeconsole.log(String.fromCodePoint(97, 98, 128522, 100, 101)); // abâ˜ºde normalize()è§„èŒƒåŒ–Unicodeæä¾›äº† 4ç§è§„èŒƒåŒ–å½¢å¼ï¼Œå¯ä»¥å°†ç±»ä¼¼ä¸Šé¢çš„å­—ç¬¦è§„èŒƒåŒ–ä¸ºä¸€è‡´çš„æ ¼å¼ï¼Œæ— è®ºåº•å±‚å­—ç¬¦çš„ä»£ç æ˜¯ä»€ä¹ˆã€‚è¿™ 4ç§è§„èŒƒåŒ–å½¢å¼æ˜¯ï¼šNFDï¼ˆNormalization Form Dï¼‰ã€NFCï¼ˆNormalization Form Cï¼‰ã€NFKDï¼ˆNormalization Form KDï¼‰å’Œ NFKCï¼ˆNormalization Form KCï¼‰ã€‚å¯ä»¥ä½¿ç”¨ normalize()æ–¹æ³•å¯¹å­—ç¬¦ä¸²åº”ç”¨ä¸Šè¿°è§„èŒƒåŒ–å½¢å¼ï¼Œä½¿ç”¨æ—¶éœ€è¦ä¼ å…¥è¡¨ç¤ºå“ªç§å½¢å¼çš„å­—ä¸²ï¼šâ€NFDâ€ã€â€NFCâ€ã€â€NFKDâ€æˆ–â€NFKCâ€ã€‚ é€šè¿‡æ¯”è¾ƒå­—ç¬¦ä¸²ä¸å…¶è°ƒç”¨ normalize()çš„è¿”å›å€¼ï¼Œå°±å¯ä»¥çŸ¥é“è¯¥å­—ç¬¦ä¸²æ˜¯å¦å·²ç»è§„èŒƒåŒ–äº† 12345678910111213141516171819let a1 = String.fromCharCode(0x00C5),a2 = String.fromCharCode(0x212B),a3 = String.fromCharCode(0x0041, 0x030A);// U+00C5 æ˜¯å¯¹ 0+212B è¿›è¡Œ NFC/NFKC è§„èŒƒåŒ–ä¹‹åçš„ç»“æœconsole.log(a1 === a1.normalize(&quot;NFD&quot;)); // falseconsole.log(a1 === a1.normalize(&quot;NFC&quot;)); // trueconsole.log(a1 === a1.normalize(&quot;NFKD&quot;)); // falseconsole.log(a1 === a1.normalize(&quot;NFKC&quot;)); // true// U+212B æ˜¯æœªè§„èŒƒåŒ–çš„console.log(a2 === a2.normalize(&quot;NFD&quot;)); // falseconsole.log(a2 === a2.normalize(&quot;NFC&quot;)); // falseconsole.log(a2 === a2.normalize(&quot;NFKD&quot;)); // falseconsole.log(a2 === a2.normalize(&quot;NFKC&quot;)); // false// U+0041/U+030A æ˜¯å¯¹ 0+212B è¿›è¡Œ NFD/NFKD è§„èŒƒåŒ–ä¹‹åçš„ç»“æœconsole.log(a3 === a3.normalize(&quot;NFD&quot;)); // trueconsole.log(a3 === a3.normalize(&quot;NFC&quot;)); // falseconsole.log(a3 === a3.normalize(&quot;NFKD&quot;)); // trueconsole.log(a3 === a3.normalize(&quot;NFKC&quot;)); // false æœªè§„èŒƒåŒ–ï¼š 12345678let a1 = String.fromCharCode(0x00C5),a2 = String.fromCharCode(0x212B),a3 = String.fromCharCode(0x0041, 0x030A);console.log(a1, a2, a3); // Ã…, Ã…, Ã…console.log(a1 === a2); // falseconsole.log(a1 === a3); // falseconsole.log(a2 === a3); // false é€‰æ‹©åŒä¸€ç§è§„èŒƒåŒ–å½¢å¼å¯ä»¥è®©æ¯”è¾ƒæ“ä½œç¬¦è¿”å›æ­£ç¡®çš„ç»“æœï¼š 1234567let a1 = String.fromCharCode(0x00C5),a2 = String.fromCharCode(0x212B),a3 = String.fromCharCode(0x0041, 0x030A);console.log(a1.normalize(&quot;NFD&quot;) === a2.normalize(&quot;NFD&quot;)); // trueconsole.log(a2.normalize(&quot;NFKC&quot;) === a3.normalize(&quot;NFKC&quot;)); // trueconsole.log(a1.normalize(&quot;NFC&quot;) === a3.normalize(&quot;NFC&quot;)); // true","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"åª’ä½“æŸ¥è¯¢","slug":"åª’ä½“æŸ¥è¯¢","date":"2022-01-03T09:42:17.000Z","updated":"2022-01-03T12:40:52.057Z","comments":true,"path":"2022/01/03/åª’ä½“æŸ¥è¯¢/","link":"","permalink":"https://coloey.github.io/2022/01/03/%E5%AA%92%E4%BD%93%E6%9F%A5%E8%AF%A2/","excerpt":"","text":"åª’ä½“æŸ¥è¯¢å¸¸è¢«ç”¨äºä»¥ä¸‹ç›®çš„ï¼š æœ‰æ¡ä»¶çš„é€šè¿‡ @media å’Œ @import at-rules ç”¨CSS è£…é¥°æ ·å¼ã€‚ ç”¨media= å±æ€§ä¸º,,å’Œå…¶ä»–HTMLå…ƒç´ æŒ‡å®šç‰¹å®šçš„åª’ä½“ç±»å‹ã€‚ è¯­æ³•åª’ä½“ç±»å‹å’Œä»»æ„æ•°é‡çš„åª’ä½“ç‰¹æ€§è¡¨è¾¾å¼æ„æˆã€‚ å½“åª’ä½“ç±»å‹ï¼ˆå¦‚æœæŒ‡å®šï¼‰ä¸åœ¨å…¶ä¸Šæ˜¾ç¤ºæ–‡æ¡£çš„è®¾å¤‡åŒ¹é…å¹¶ä¸”æ‰€æœ‰åª’ä½“åŠŸèƒ½è¡¨è¾¾å¼éƒ½è®¡ç®—ä¸ºtrueæ—¶ï¼Œåª’ä½“æŸ¥è¯¢å°†è®¡ç®—ä¸ºtrueã€‚ æ¶‰åŠæœªçŸ¥åª’ä½“ç±»å‹çš„æŸ¥è¯¢å§‹ç»ˆä¸ºfalseã€‚ åª’ä½“ç±»å‹æè¿°è®¾å¤‡çš„ä¸€èˆ¬ç±»åˆ«ã€‚é™¤éä½¿ç”¨ not æˆ– only é€»è¾‘æ“ä½œç¬¦ï¼Œåª’ä½“ç±»å‹æ˜¯å¯é€‰çš„ï¼Œå¹¶ä¸”ä¼šï¼ˆéšå¼åœ°ï¼‰åº”ç”¨ all ç±»å‹ã€‚ 1all é€‚ç”¨äºæ‰€æœ‰è®¾å¤‡ã€‚ 1print é€‚ç”¨äºåœ¨æ‰“å°é¢„è§ˆæ¨¡å¼ä¸‹åœ¨å±å¹•ä¸ŠæŸ¥çœ‹çš„åˆ†é¡µææ–™å’Œæ–‡æ¡£ã€‚ ï¼ˆæœ‰å…³ç‰¹å®šäºè¿™äº›æ ¼å¼çš„æ ¼å¼é—®é¢˜çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…åˆ†é¡µåª’ä½“ã€‚ï¼‰ 1screen ä¸»è¦ç”¨äºå±å¹•ã€‚ 1speech ä¸»è¦ç”¨äºè¯­éŸ³åˆæˆå™¨ã€‚ å®šä½åª’ä½“ç±»å‹12@media screen, print &#123; ... &#125;/*ç”¨ä¸¤ä¸ªåª’ä½“æŸ¥è¯¢æ¥åŒæ—¶å®šä½å±å¹•å’Œæ‰“å°è®¾å¤‡*/ åª’ä½“ç‰¹æ€§æè¿°äº† user agentã€è¾“å‡ºè®¾å¤‡ï¼Œæˆ–æ˜¯æµè§ˆç¯å¢ƒçš„å…·ä½“ç‰¹å¾ã€‚åª’ä½“ç‰¹æ€§è¡¨è¾¾å¼æ˜¯å®Œå…¨å¯é€‰çš„ï¼Œå®ƒè´Ÿè´£æµ‹è¯•è¿™äº›ç‰¹æ€§æˆ–ç‰¹å¾æ˜¯å¦å­˜åœ¨ã€å€¼ä¸ºå¤šå°‘ã€‚æ¯æ¡åª’ä½“ç‰¹æ€§è¡¨è¾¾å¼éƒ½å¿…é¡»ç”¨æ‹¬å·æ‹¬èµ·æ¥ã€‚ é€»è¾‘æ“ä½œç¬¦ not, and, å’Œ only å¯ç”¨äºè”åˆæ„é€ å¤æ‚çš„åª’ä½“æŸ¥è¯¢ï¼Œæ‚¨è¿˜å¯ä»¥é€šè¿‡ç”¨é€—å·åˆ†éš”å¤šä¸ªåª’ä½“æŸ¥è¯¢ï¼Œå°†å®ƒä»¬ç»„åˆä¸ºä¸€ä¸ªè§„åˆ™ã€‚ and and æ“ä½œç¬¦ç”¨äºå°†å¤šä¸ªåª’ä½“æŸ¥è¯¢è§„åˆ™ç»„åˆæˆå•æ¡åª’ä½“æŸ¥è¯¢ï¼Œå½“æ¯ä¸ªæŸ¥è¯¢è§„åˆ™éƒ½ä¸ºçœŸæ—¶åˆ™è¯¥æ¡åª’ä½“æŸ¥è¯¢ä¸ºçœŸï¼Œå®ƒè¿˜ç”¨äºå°†åª’ä½“åŠŸèƒ½ä¸åª’ä½“ç±»å‹ç»“åˆåœ¨ä¸€èµ·ã€‚ notnotè¿ç®—ç¬¦ç”¨äºå¦å®šåª’ä½“æŸ¥è¯¢ï¼Œå¦‚æœä¸æ»¡è¶³è¿™ä¸ªæ¡ä»¶åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚ å¦‚æœå‡ºç°åœ¨ä»¥é€—å·åˆ†éš”çš„æŸ¥è¯¢åˆ—è¡¨ä¸­ï¼Œå®ƒå°†ä»…å¦å®šåº”ç”¨äº†è¯¥æŸ¥è¯¢çš„ç‰¹å®šæŸ¥è¯¢ã€‚ å¦‚æœä½¿ç”¨notè¿ç®—ç¬¦ï¼Œåˆ™è¿˜å¿…é¡»æŒ‡å®šåª’ä½“ç±»å‹ã€‚ æ³¨æ„ï¼šåœ¨Level 3ä¸­ï¼Œnotå…³é”®å­—ä¸èƒ½ç”¨äºå¦å®šå•ä¸ªåª’ä½“åŠŸèƒ½è¡¨è¾¾å¼ï¼Œè€Œåªèƒ½ç”¨äºå¦å®šæ•´ä¸ªåª’ä½“æŸ¥è¯¢ã€‚ onlyonlyè¿ç®—ç¬¦ä»…åœ¨æ•´ä¸ªæŸ¥è¯¢åŒ¹é…æ—¶æ‰ç”¨äºåº”ç”¨æ ·å¼ï¼Œå¹¶ä¸”å¯¹äºé˜²æ­¢è¾ƒæ—©çš„æµè§ˆå™¨åº”ç”¨æ‰€é€‰æ ·å¼å¾ˆæœ‰ç”¨ã€‚ å½“ä¸ä½¿ç”¨onlyæ—¶ï¼Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ä¼šå°†screen and (max-width: 500px)ç®€å•åœ°è§£é‡Šä¸ºscreenï¼Œå¿½ç•¥æŸ¥è¯¢çš„å…¶ä½™éƒ¨åˆ†ï¼Œå¹¶å°†å…¶æ ·å¼åº”ç”¨äºæ‰€æœ‰å±å¹•ã€‚ å¦‚æœä½¿ç”¨onlyè¿ç®—ç¬¦ï¼Œåˆ™è¿˜å¿…é¡»æŒ‡å®šåª’ä½“ç±»å‹ã€‚ , (é€—å·)é€—å·ç”¨äºå°†å¤šä¸ªåª’ä½“æŸ¥è¯¢åˆå¹¶ä¸ºä¸€ä¸ªè§„åˆ™ã€‚ é€—å·åˆ†éš”åˆ—è¡¨ä¸­çš„æ¯ä¸ªæŸ¥è¯¢éƒ½ä¸å…¶ä»–æŸ¥è¯¢åˆ†å¼€å¤„ç†ã€‚ å› æ­¤ï¼Œå¦‚æœåˆ—è¡¨ä¸­çš„ä»»ä½•æŸ¥è¯¢ä¸ºtrueï¼Œåˆ™æ•´ä¸ªmediaè¯­å¥å‡è¿”å›trueã€‚ æ¢å¥è¯è¯´ï¼Œåˆ—è¡¨çš„è¡Œä¸ºç±»ä¼¼äºé€»è¾‘æˆ–orè¿ç®—ç¬¦ã€‚ å®šä½åª’ä½“ç‰¹æ€§1234567/*å½“ç”¨æˆ·çš„ä¸»è¦è¾“å…¥æœºåˆ¶ï¼ˆä¾‹å¦‚é¼ æ ‡ï¼‰å¯ä»¥æ‚¬åœåœ¨å…ƒç´ ä¸Š*/@media (hover: hover) &#123; ... &#125;@media (max-width: 12450px) &#123; ... &#125;/*CSSå°†é€‚ç”¨äºä»»ä½•å¸¦æœ‰å½©è‰²å±å¹•çš„è®¾å¤‡*/@media (color) &#123; ... &#125;/*é™åˆ¶ä¸ºå¸¦æœ‰å±å¹•çš„è®¾å¤‡,å®½åº¦è‡³å°‘ä¸º30 emçš„æ¨ªå‘çš„è®¾å¤‡*/@media screen and (min-width: 30em) and (orientation: landscape) &#123; ... &#125;","categories":[{"name":"HTML+CSS","slug":"HTML-CSS","permalink":"https://coloey.github.io/categories/HTML-CSS/"}],"tags":[]},{"title":"toggle","slug":"toggle","date":"2022-01-03T01:47:27.000Z","updated":"2022-01-03T12:40:32.389Z","comments":true,"path":"2022/01/03/toggle/","link":"","permalink":"https://coloey.github.io/2022/01/03/toggle/","excerpt":"","text":"DOMTokenList.toggle()DOMTokenListæ¥å£çš„toggle()æ–¹æ³•ä»åˆ—è¡¨ä¸­åˆ é™¤ä¸€ä¸ªç»™å®šçš„æ ‡è®°å¹¶è¿”å›false,å¦‚æœæ ‡è®°ä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ å¹¶ä¸”å‡½æ•°è¿”å›true tokenList.toggle(token,force); å‚æ•°ï¼štoken:æ ‡è®°åˆ—è¡¨ä¸­ä½ æƒ³æ¢æŸ¥å¹¶åˆ‡æ¢çš„DOMSring force(å¯é€‰):Booleanå€¼ï¼Œè®¾ç½®åä¼šå°†æ–¹æ³•å˜æˆå•å‘æ“ä½œï¼Œå¦‚æœè®¾ç½®ä¸ºfalseï¼Œåˆ™ä¼šåˆ é™¤æ ‡è®°åˆ—è¡¨ä¸­åŒ¹é…çš„ç»™å®šæ ‡è®°ï¼Œä¸”ä¸ä¼šå†æ·»åŠ ï¼Œå¦‚è®¾ç½®ä¸ºtrueï¼Œåˆ™å°†åœ¨æ ‡è®°ä¸­æ·»åŠ ç»™å®šæ ‡è®°ï¼Œä¸”ä¸ä¼šå†åº¦åˆ é™¤ è¿”å›å€¼ï¼šä¸ºå¸ƒå°”å€¼ egHTML 1&lt;span class=&quot;a b&quot;&gt;classList is &#x27;a b&#x27;&lt;/span&gt; JavaScript 12345678910var span = document.querySelector(&quot;span&quot;);var classes = span.classList;span.onclick = function() &#123; var result = classes.toggle(&quot;c&quot;); if(result) &#123; span.textContent = &quot;&#x27;c&#x27; added; classList is now &#x27;&quot; + classes + &quot;&#x27;.&quot;; &#125; else &#123; span.textContent = &quot;&#x27;c&#x27; removed; classList is now &#x27;&quot; + classes + &quot;&#x27;.&quot;; &#125;&#125;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"align-self,align-item,align-content","slug":"å¯¹é½æ–¹å¼å¯¹æ¯”","date":"2022-01-03T01:42:03.000Z","updated":"2022-01-03T12:40:14.249Z","comments":true,"path":"2022/01/03/å¯¹é½æ–¹å¼å¯¹æ¯”/","link":"","permalink":"https://coloey.github.io/2022/01/03/%E5%AF%B9%E9%BD%90%E6%96%B9%E5%BC%8F%E5%AF%B9%E6%AF%94/","excerpt":"","text":"align-selfCSSå±æ€§ align-self ä¼šå¯¹é½å½“å‰ grid æˆ– flex è¡Œä¸­çš„å…ƒç´ ï¼Œå¹¶è¦†ç›–å·²æœ‰çš„ align-items çš„å€¼ã€‚In Grid, it aligns the item inside the grid area. åœ¨ Flexbox ä¸­ï¼Œä¼šæŒ‰ç…§ cross axisï¼ˆå½“å‰ flex å…ƒç´ æ’åˆ—æ–¹å‘çš„å‚ç›´æ–¹å‘ï¼‰è¿›è¡Œæ’åˆ—ã€‚ å€¼auto:è®¾ç½®ä¸ºçˆ¶å…ƒç´ çš„ align-items å€¼ã€‚ normal: æ•ˆæœå–å†³äºå½“å‰çš„å¸ƒå±€æ¨¡å¼: ç»å¯¹å®šä½å¸ƒå±€ä¸­ï¼Œnormalåœ¨ç»å¯¹å®šä½çš„æ›¿ä»£å…ƒç´ ä¸Šè¡¨ç°ä¸ºstartï¼Œåœ¨æ‰€æœ‰å…¶ä»–ç»å¯¹å®šä½å…ƒç´ ä¸Šè¡¨ç°ä¸ºstretchã€‚ åœ¨ç»å¯¹å®šä½çš„é™æ€å…ƒç´ ä¸Šè¡¨ç°ä¸ºstretchã€‚ flexå¸ƒå±€ä¸­è¡¨ç°ä¸ºstretchã€‚ åœ¨ç½‘æ ¼å¸ƒå±€ä¸­è¡¨ç°ä¸ºstretch,é™¤äº†æœ‰éƒ¨åˆ†æ¯”ä¾‹æˆ–è€…ä¸€ä¸ªå›ºå®šå¤§å°çš„ç›’å­çš„æ•ˆæœåƒstartã€‚ åœ¨å—çº§å’Œè¡¨æ ¼å•å…ƒä¸­æ— æ•ˆã€‚ flex-start:å¯¹é½åˆ°cross-axisçš„é¦–ç«¯ flex-end:å¯¹é½åˆ°cross-axisçš„å°¾ç«¯ center:å¯¹é½åˆ°cross-axisçš„ä¸­é—´ï¼Œå¦‚æœè¯¥å…ƒç´ çš„ cross-size å°ºå¯¸å¤§äº flex å®¹å™¨ï¼Œå°†åœ¨ä¸¤ä¸ªæ–¹å‘å‡ç­‰æº¢å‡ºã€‚ safe:å¦‚æœå…ƒç´ å¤§å°æº¢å‡ºå¯¹é½çš„å®¹å™¨ï¼Œåˆ™å°†å…ƒç´ æ”¹ä¸ºå¯¹é½ï¼Œå°±åƒstart unsafe:æ— è®ºå…ƒç´ å’Œå¯¹é½å®¹å™¨çš„ç›¸å¯¹å¤§å°å¦‚ä½•éƒ½éµå¾ªç»™å®šçš„å¯¹é½å€¼ egHTML 1234567891011&lt;section&gt; &lt;div&gt; Item#1 &lt;/div&gt; &lt;div&gt; Item#2 &lt;/div&gt; &lt;div&gt; Item#3 &lt;/div&gt;&lt;/section&gt; CSS 1234567891011121314151617section &#123; display: flex; align-items: center; height: 120px; background: beige;&#125;div &#123; height: 60px; background: cyan; margin: 5px;&#125;div:nth-child(3) &#123; align-self: flex-end; background: pink;&#125; align-itemsCSS align-itemså±æ€§å°†æ‰€æœ‰ç›´æ¥å­èŠ‚ç‚¹ä¸Šçš„align-selfå€¼è®¾ç½®ä¸ºä¸€ä¸ªç»„ã€‚ ç›®å‰ï¼ŒFlexboxå’ŒCSSç½‘æ ¼å¸ƒå±€æ”¯æŒæ­¤å±æ€§ã€‚åœ¨Flexboxä¸­ï¼Œå®ƒæ§åˆ¶åå­—è½´ä¸Šé¡¹ç›®çš„å¯¹é½æ–¹å¼ï¼Œåœ¨ç½‘æ ¼å¸ƒå±€ä¸­ï¼Œå®ƒæ§åˆ¶å—è½´ä¸Šé¡¹ç›®çš„å¯¹é½æ–¹å¼ã€‚ align-contentalign-content å±æ€§è®¾ç½®äº†æµè§ˆå™¨å¦‚ä½•æ²¿ç€å¼¹æ€§ç›’å­å¸ƒå±€çš„çºµè½´å’Œç½‘æ ¼å¸ƒå±€çš„ä¸»è½´åœ¨å†…å®¹é¡¹ä¹‹é—´å’Œå‘¨å›´åˆ†é…ç©ºé—´ã€‚ 123456789101112131415161718192021222324252627282930313233343536/* åŸºæœ¬ä½ç½®å¯¹é½ *//*align-contentä¸é‡‡ç”¨å·¦å³å€¼ */align-content: center; /* å°†é¡¹ç›®æ”¾ç½®åœ¨ä¸­ç‚¹ */align-content: start; /* æœ€å…ˆæ”¾ç½®é¡¹ç›® */align-content: end; /* æœ€åæ”¾ç½®é¡¹ç›® */align-content: flex-start; /* ä»èµ·å§‹ç‚¹å¼€å§‹æ”¾ç½®flexå…ƒç´  */align-content: flex-end; /* ä»ç»ˆæ­¢ç‚¹å¼€å§‹æ”¾ç½®flexå…ƒç´  *//* é»˜è®¤å¯¹é½ */align-content: normal;/*åŸºçº¿å¯¹é½*/align-content: baseline;align-content: first baseline;align-content: last baseline;/* åˆ†å¸ƒå¼å¯¹é½ */align-content: space-between; /* å‡åŒ€åˆ†å¸ƒé¡¹ç›® ç¬¬ä¸€é¡¹ä¸èµ·å§‹ç‚¹é½å¹³ï¼Œ æœ€åä¸€é¡¹ä¸ç»ˆæ­¢ç‚¹é½å¹³ */align-content: space-around; /* å‡åŒ€åˆ†å¸ƒé¡¹ç›® é¡¹ç›®åœ¨ä¸¤ç«¯æœ‰ä¸€åŠå¤§å°çš„ç©ºé—´*/align-content: space-evenly; /* å‡åŒ€åˆ†å¸ƒé¡¹ç›® é¡¹ç›®å‘¨å›´æœ‰ç›¸ç­‰çš„ç©ºé—´ */align-content: stretch; /* å‡åŒ€åˆ†å¸ƒé¡¹ç›® æ‹‰ä¼¸â€˜è‡ªåŠ¨â€™-å¤§å°çš„é¡¹ç›®ä»¥å……æ»¡å®¹å™¨ *//* æº¢å‡ºå¯¹é½ */align-content: safe center;align-content: unsafe center;/* å…¨å±€å±æ€§ */align-content: inherit; /* ç»§æ‰¿ */align-content: initial; /* åˆå§‹å€¼ */align-content: unset; /* æœªè®¾ç½® */ justify-itemsjustify-items å±æ€§ä¸ºæ‰€æœ‰ç›’ä¸­çš„é¡¹ç›®å®šä¹‰äº†é»˜è®¤çš„ justify-self ï¼Œ å¯ä»¥ä½¿è¿™äº›é¡¹ç›®ä»¥é»˜è®¤æ–¹å¼æ²¿é€‚å½“è½´çº¿å¯¹é½åˆ°æ¯ä¸ªç›’å­ã€‚ justify-contentjustify-content å±æ€§å®šä¹‰äº†æµè§ˆå™¨ä¹‹é—´ï¼Œå¦‚ä½•åˆ†é…é¡ºç€å¼¹æ€§å®¹å™¨ä¸»è½´(æˆ–è€…ç½‘æ ¼è¡Œè½´) çš„å…ƒç´ ä¹‹é—´åŠå…¶å‘¨å›´çš„ç©ºé—´ã€‚ 1234567891011121314151617181920212223242526272829303132/* Positional alignment */justify-content: center; /* å±…ä¸­æ’åˆ— */justify-content: start; /* Pack items from the start */justify-content: end; /* Pack items from the end */justify-content: flex-start; /* ä»è¡Œé¦–èµ·å§‹ä½ç½®å¼€å§‹æ’åˆ— */justify-content: flex-end; /* ä»è¡Œå°¾ä½ç½®å¼€å§‹æ’åˆ— */justify-content: left; /* Pack items from the left */justify-content: right; /* Pack items from the right *//* Baseline alignment */justify-content: baseline;justify-content: first baseline;justify-content: last baseline;/* Distributed alignment */justify-content: space-between; /* å‡åŒ€æ’åˆ—æ¯ä¸ªå…ƒç´  é¦–ä¸ªå…ƒç´ æ”¾ç½®äºèµ·ç‚¹ï¼Œæœ«å°¾å…ƒç´ æ”¾ç½®äºç»ˆç‚¹ */justify-content: space-around; /* å‡åŒ€æ’åˆ—æ¯ä¸ªå…ƒç´  æ¯ä¸ªå…ƒç´ å‘¨å›´åˆ†é…ç›¸åŒçš„ç©ºé—´ */justify-content: space-evenly; /* å‡åŒ€æ’åˆ—æ¯ä¸ªå…ƒç´  æ¯ä¸ªå…ƒç´ ä¹‹é—´çš„é—´éš”ç›¸ç­‰ */justify-content: stretch; /* å‡åŒ€æ’åˆ—æ¯ä¸ªå…ƒç´  &#x27;auto&#x27;-sized çš„å…ƒç´ ä¼šè¢«æ‹‰ä¼¸ä»¥é€‚åº”å®¹å™¨çš„å¤§å° *//* Overflow alignment */justify-content: safe center;justify-content: unsafe center;/* Global values */justify-content: inherit;justify-content: initial;justify-content: unset; justify-self[justify-self åœ¨ Flexboxå¸ƒå±€ä¸­å¤±æ•ˆ]åœ¨ä¸»è½´ä¸Šï¼ŒFlexboxå°†æˆ‘ä»¬çš„å†…å®¹ä½œä¸ºä¸€ä¸ªç»„è¿›è¡Œå¤„ç†ã€‚ è®¡ç®—å¸ƒç½®å­å…ƒç´ æ‰€éœ€çš„ç©ºé—´é‡ï¼Œç„¶åå‰©ä½™ç©ºé—´å¯ç”¨äºåˆ†é…ã€‚ justify-contentå±æ€§æ§åˆ¶å‰©ä½™ç©ºé—´çš„ä½¿ç”¨æ–¹å¼ã€‚ è®¾ç½®justify-contentï¼šflex-endï¼Œé¢å¤–ç©ºé—´æ”¾åœ¨æ‰€æœ‰å­å…ƒç´ ä¹‹å‰ï¼Œjustify-contentï¼šspace-aroundï¼Œå®ƒæ”¾åœ¨è¯¥ç»´åº¦çš„å­å…ƒç´ çš„ä¸¤ä¾§ï¼Œç­‰ç­‰ã€‚ è¿™æ„å‘³ç€åœ¨Flexboxä¸­ï¼Œjustify-selfå±æ€§æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºæˆ‘ä»¬æ€»æ˜¯å¤„ç†ç§»åŠ¨æ•´ä¸ªå…ƒç´ ç»„ã€‚ åœ¨åå­—è½´ä¸Šï¼Œalign-selfæ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½åœ¨è¯¥ç»´åº¦ä¸­çš„flexå®¹å™¨ä¸­æœ‰é¢å¤–çš„ç©ºé—´ï¼Œå…¶ä¸­å•ä¸ªå…ƒç´ å¯ä»¥ç§»åŠ¨åˆ°å¼€å§‹å’Œç»“æŸä½ç½®ã€‚","categories":[{"name":"HTML+CSS","slug":"HTML-CSS","permalink":"https://coloey.github.io/categories/HTML-CSS/"}],"tags":[]},{"title":"å¯Œæ–‡æœ¬","slug":"å¯Œæ–‡æœ¬","date":"2021-12-13T11:59:24.000Z","updated":"2021-12-30T07:18:06.906Z","comments":true,"path":"2021/12/13/å¯Œæ–‡æœ¬/","link":"","permalink":"https://coloey.github.io/2021/12/13/%E5%AF%8C%E6%96%87%E6%9C%AC/","excerpt":"","text":"å¯Œæ–‡æœ¬ç¼–è¾‘åœ¨ç©ºç™½ HTML æ–‡ä»¶ä¸­åµŒå…¥ä¸€ä¸ªiframeã€‚é€šè¿‡ designMode å±æ€§ï¼Œå¯ä»¥å°†è¿™ä¸ªç©ºç™½æ–‡æ¡£å˜æˆå¯ä»¥ç¼–è¾‘çš„ï¼Œå®é™…ç¼–è¾‘çš„åˆ™æ˜¯å…ƒç´ çš„ HTMLã€‚designMode å±æ€§æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼šâ€offâ€ï¼ˆé»˜è®¤å€¼ï¼‰å’Œâ€onâ€ã€‚è®¾ç½®ä¸ºâ€onâ€æ—¶ å¯Œæ–‡æœ¬äº¤äº’ä½¿ç”¨ document.execCommand()ã€‚è¿™ä¸ªæ–¹æ³•åœ¨æ–‡æ¡£ä¸Šæ‰§è¡Œæ—¢å®šçš„å‘½ä»¤ï¼Œå¯ä»¥å®ç°å¤§å¤šæ•°æ ¼å¼åŒ–ä»»åŠ¡ã€‚document.execCommand()å¯ä»¥æ¥æ”¶ 3 ä¸ªå‚æ•°ï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ã€è¡¨ç¤ºæµè§ˆå™¨æ˜¯å¦ä¸ºå‘½ä»¤æä¾›ç”¨æˆ·ç•Œé¢çš„å¸ƒå°”å€¼å’Œæ‰§è¡Œå‘½ä»¤å¿…éœ€çš„å€¼ 12345678910// åœ¨å†…åµŒçª—æ ¼ä¸­åˆ‡æ¢ç²—ä½“æ–‡æœ¬æ ·å¼frames[&quot;richedit&quot;].document.execCommand(&quot;bold&quot;, false, null);// åœ¨å†…åµŒçª—æ ¼ä¸­åˆ‡æ¢æ–œä½“æ–‡æœ¬æ ·å¼frames[&quot;richedit&quot;].document.execCommand(&quot;italic&quot;, false, null);// åœ¨å†…åµŒçª—æ ¼ä¸­åˆ›å»ºæŒ‡å‘ www.wrox.com çš„é“¾æ¥frames[&quot;richedit&quot;].document.execCommand(&quot;createlink&quot;, false,&quot;http://www.wrox.com&quot;);// åœ¨å†…åµŒçª—æ ¼ä¸­ä¸ºå†…å®¹æ·»åŠ &lt;h1&gt;æ ‡ç­¾frames[&quot;richedit&quot;].document.execCommand(&quot;formatblock&quot;, false, &quot;&lt;h1&gt;&quot;); å¯Œæ–‡æœ¬é€‰æ‹©åœ¨å†…åµŒçª—æ ¼ä¸­ä½¿ç”¨ getSelection()æ–¹æ³•ï¼Œå¯ä»¥è·å¾—å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„é€‰åŒºã€‚è¿™ä¸ªæ–¹æ³•æš´éœ²åœ¨document å’Œ window å¯¹è±¡ä¸Šï¼Œè¿”å›è¡¨ç¤ºå½“å‰é€‰ä¸­æ–‡æœ¬çš„ Selection å¯¹è±¡ 12345678910let selection = frames[&quot;richedit&quot;].getSelection();// å–å¾—é€‰ä¸­çš„æ–‡æœ¬let selectedText = selection.toString();// å–å¾—è¡¨ç¤ºé€‰åŒºçš„èŒƒå›´let range = selection.getRangeAt(0);// é«˜äº®é€‰ä¸­çš„æ–‡æœ¬let span = frames[&quot;richedit&quot;].document.createElement(&quot;span&quot;);span.style.backgroundColor = &quot;yellow&quot;;range.surroundContents(span); é€šè¿‡è¡¨å•æäº¤å¯Œæ–‡æœ¬12345form.addEventListener(&quot;submit&quot;,(event)=&gt;&#123; let target=event.target; target.elements[&quot;comments&quot;].value=frames[&quot;richedit&quot;].document.body.innerHTML;//ä½¿ç”¨å†…åµŒçª—æ ¼ //target.elements[&quot;comments&quot;].value=document.getElementById(&quot;richedit&quot;).innerHTML;//ä½¿ç”¨contenteditable&#125;)","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"è¡¨å•åºåˆ—åŒ–","slug":"è¡¨å•åºåˆ—åŒ–","date":"2021-12-12T11:09:55.000Z","updated":"2021-12-30T07:17:55.272Z","comments":true,"path":"2021/12/12/è¡¨å•åºåˆ—åŒ–/","link":"","permalink":"https://coloey.github.io/2021/12/12/%E8%A1%A8%E5%8D%95%E5%BA%8F%E5%88%97%E5%8C%96/","excerpt":"","text":"è¡¨å•åœ¨jsä¸­å¯ä»¥ä½¿ç”¨è¡¨å•å­—æ®µçš„typeå±æ€§è¿åŒå…¶nameå±æ€§å’Œvalueå±æ€§æ¥è¿›è¡Œåºåˆ—åŒ– å­—æ®µåå’Œå€¼æ˜¯ URL ç¼–ç çš„å¹¶ä»¥å’Œå·ï¼ˆ&amp;ï¼‰åˆ†éš”ã€‚ ç¦ç”¨å­—æ®µä¸ä¼šå‘é€ã€‚ å¤é€‰æ¡†æˆ–å•é€‰æŒ‰é’®åªåœ¨è¢«é€‰ä¸­æ—¶æ‰å‘é€ã€‚ ç±»å‹ä¸ºâ€resetâ€æˆ–â€buttonâ€çš„æŒ‰é’®ä¸ä¼šå‘é€ã€‚ å¤šé€‰å­—æ®µçš„æ¯ä¸ªé€‰ä¸­é¡¹éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚ é€šè¿‡ç‚¹å‡»æäº¤æŒ‰é’®æäº¤è¡¨å•æ—¶ï¼Œä¼šå‘é€è¯¥æäº¤æŒ‰é’®ï¼›å¦åˆ™ï¼Œä¸ä¼šå‘é€æäº¤æŒ‰é’®ã€‚ç±»å‹ä¸ºâ€imageâ€çš„å…ƒç´ è§†åŒæäº¤æŒ‰é’®ã€‚ selectå…ƒç´ çš„å€¼æ˜¯è¢«é€‰ä¸­optionå…ƒç´ çš„ value å±æ€§ã€‚å¦‚æœå…ƒç´ æ²¡æœ‰ value å±æ€§ï¼Œåˆ™è¯¥å€¼æ˜¯å®ƒçš„æ–‡æœ¬ è¿”å›çš„ç»“æœæ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²çš„æ ¼å¼ 1234567891011121314151617181920212223242526272829303132333435363738394041function serialize(form)&#123; let parts=[]; let optValue; for(let field of form.elements)&#123; switch(field.type)&#123; case &quot;select-one&quot;: case &quot;select-multiple&quot;: if(field.name.length)&#123; for(let option of field.options)&#123; if(option.selected)&#123; if(option.hasAttribute)&#123; optValue=(option.hasAttribute(&quot;value&quot;)?option.value:option.text); &#125;else&#123; optValue=(option.attributes[&quot;value&quot;].specified?option.value:option.text); &#125; parts.push(`$&#123;encodeURIComponent(field.name)&#125;=`+`$&#123;encodeURIComponent(optValue)&#125;`); &#125; &#125; &#125; break; case undefined://å­—æ®µé›† case &quot;file&quot;://æ–‡ä»¶è¾“å…¥ case &quot;submit&quot;://æäº¤æŒ‰é’® case &quot;reset&quot;://é‡ç½®æŒ‰é’® case &quot;button&quot;://è‡ªå®šä¹‰æŒ‰é’® break; case &quot;radio&quot;://å•é€‰æŒ‰é’® case &quot;checkbox&quot;://å¤é€‰æ¡† if(!field.checked)&#123;//æ²¡è¢«é€‰ä¸­ï¼Œè·³å‡ºswitchï¼Œå¦åˆ™è¿›å…¥defaultåˆ†æ”¯ï¼Œå°†å­—æ®µçš„åå­—å’Œå€¼ç¼–ç åæ·»åŠ è¿›partsæ•°ç»„ break; &#125; default: //ä¸åŒ…å«æ²¡æœ‰åå­—çš„è¡¨å•å­—æ®µ if(field.name.length)&#123; parts.push(`$&#123;encodeURIComponent(field.name)&#125;=`+`$&#123;encodeURIComponent(field.value)&#125;`) &#125; &#125; &#125; return parts.join(&quot;&amp;&quot;);&#125;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"DOMç¼–ç¨‹","slug":"DOM-DOMç¼–ç¨‹","date":"2021-12-12T09:15:15.000Z","updated":"2021-12-30T07:16:58.806Z","comments":true,"path":"2021/12/12/DOM-DOMç¼–ç¨‹/","link":"","permalink":"https://coloey.github.io/2021/12/12/DOM-DOM%E7%BC%96%E7%A8%8B/","excerpt":"","text":"DOMç¼–ç¨‹åŠ¨æ€è„šæœ¬1234567891011function loadScriptString(code)&#123; var script=document.createElement(&quot;script&quot;); script.type=&quot;text/javascript&quot;; try&#123; script.appendChild(document.createTextNode(code));//æ—§ç‰ˆæœ¬çš„IEæµè§ˆå™¨å¯èƒ½å‡ºé—®é¢˜ &#125;catch(ex)&#123; script.text=code; &#125; document.body.appendChild(script);&#125;loadScriptString(&quot;function sayHi()&#123;alert(&#x27;hi&#x27;);&#125;&quot;); åŠ¨æ€æ ·å¼123456789101112function loadStyleString(css)&#123; let style=document.createElement(&quot;style&quot;); style.type=&quot;text/css&quot;; try&#123; style.appendChild(document.createTextNode(css)); &#125;catch(ex)&#123; style.styleSheet.cssText=css; &#125; let head=document.getElementsByTagName(&quot;head&quot;)[0]; head.appendChild(style);&#125;loadStyleString(&quot;body[background-color:red&#125;&quot;); å¯¹äºIEï¼Œè¦å°å¿ƒä½¿ç”¨styleSheet.cssText,å¦‚æœé‡ç”¨åŒä¸€ä¸ªå…ƒç´ å¹¶è®¾ç½®è¯¥å±æ€§è¶…è¿‡ä¸€æ¬¡ï¼Œåˆ™å¯èƒ½å¯¼è‡´æµè§ˆå™¨å´©æºƒï¼Œå°†cssTextè®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ä¹Ÿå¯èƒ½å¯¼è‡´æµè§ˆå™¨å´©æºƒ è¡¨å•12345678910111213141516171819let table=document.createElement(&quot;table&quot;);table.border=1;table.width=&quot;100%&quot;;let tbody=document.createElement(&quot;tbody&quot;);table.appendChild(tbody);table.insertRow(0);tbody.rows[0].insertCell(0);tbody.rows[0].cells[0].appendChild(document.createTextNode(&quot;Cell 1,1&quot;));tbody.rows[0].insertCell(1);tbody.rows[0].cells[1].appendChild(document.createTextNode(&quot;Cell 2,1&quot;));table.insertRow(1);tbody.rows[1].insertCell(0);tbody.rows[1].cells[0].appendChild(document.createTextNode(&quot;Cell 1,2&quot;));tbody.rows[1].insertCell(1);tbody.rows[1].cells[1].appendChild(document.createTextNode(&quot;Cell 2,2&quot;));document.body.appendChild(table); NodeList12345let divs=document.getElementsByTagName(&quot;div&quot;);for(let i=0,len=divs.length;i&lt;len;i++)&#123; let div=doocument.createElement(&quot;div&quot;); document.body.appendChild(div);&#125;//é¿å…å¯¼è‡´æ— ç©·å¾ªç¯ Mutationobserveræ¥å£åœ¨DOMè¢«ä¿®æ”¹æ—¶å¼‚æ­¥æ‰§è¡Œå›è°ƒï¼Œä½¿ç”¨MutationObserverå¯ä»¥è§‚å¯Ÿæ•´ä¸ªæ–‡æ¡£ï¼ŒDOMæ ‘çš„ä¸€éƒ¨åˆ†æˆ–æŸä¸ªå…ƒç´  MutationObserverçš„å®ä¾‹é€šè¿‡è°ƒç”¨MutationObserveræ„é€ å‡½æ•°å¹¶ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°åˆ›å»º 1let observer=new MutationObserver(()=&gt;console.log(&#x27;DOM was mutated&#x27;)); observe()æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šè¦è§‚å¯Ÿå…¶å˜åŒ–çš„DOMèŠ‚ç‚¹ï¼Œä»¥åŠä¸€ä¸ªMutationObserverInitå¯¹è±¡ï¼ˆç”¨äºæ§åˆ¶è§‚å¯Ÿå“ªäº›æ–¹é¢çš„å˜åŒ–ï¼Œæ˜¯ä¸€ä¸ªé”®å€¼å¯¹å½¢å¼é…ç½®é€‰é¡¹çš„å­—å…¸ï¼‰ 12let observer=new MutationObserver(()=&gt;console.log(&#x27;&lt;body&gt; attributes changed&#x27;));observer.observe(document.body,&#123;attributes:true&#125;); å…ƒç´ ä¸Šä»»ä½•å±æ€§å‘ç”Ÿå˜åŒ–éƒ½ä¼šè¢«è¿™ä¸ªMutationObserverå®ä¾‹å‘ç°ï¼Œç„¶åå¼‚æ­¥æ‰§è¡Œæ³¨å†Œçš„å›è°ƒå‡½æ•°,å…ƒç´ åä»£ä¿®æ”¹æˆ–å…¶ä»–éå±æ€§ä¿®æ”¹ä¸ä¼šè§¦å‘å›è°ƒè¿›å…¥ä»»åŠ¡ 123456let observer=new MutationObserver(()=&gt;console.log(&#x27;&lt;body&gt; attributes changed&#x27;));observer.observe(document.body,&#123;attributes:true&#125;);document.body.className=&#x27;foo&#x27;;console.log(&#x27;Changed body class&#x27;);//Changed body class//&lt;body&gt; attributes changed å›è°ƒä¸MutationRecordæ¯æ¬¡å›è°ƒéƒ½ä¼šæ”¶åˆ°ä¸€ä¸ªMutationRecordå®ä¾‹çš„æ•°ç»„,åŒ…å«çš„ä¿¡æ¯å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ä»¥åŠDOMå“ªä¸€éƒ¨åˆ†å—åˆ°å½±å“ 123456789let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords));[observer.observe(document.body,&#123;attributes:true&#125;);document.body.setAttributeNS(&#x27;foo&#x27;,&#x27;bar&#x27;,&#x27;baz&#x27;);//è¿ç»­ä¿®æ”¹å¤šä¸ªMutationRecordå®ä¾‹ï¼Œå›è°ƒå‡½æ•°å°±ä¼šå—åˆ°åŒ…å«è¿™äº›å®ä¾‹çš„æ•°ç»„ï¼Œé¡ºåºä¸ºå˜åŒ–äº‹ä»¶çš„é¡ºåºlet observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords));observer.observe(document.body,&#123;attributes:true&#125;);document.body.className=&#x27;foo&#x27;;document.body.className=&#x27;bar&#x27;;//[MutationRecord, MutationRecord] disconnect()æ–¹æ³•ä¼šåœæ­¢æ­¤åå˜åŒ–äº‹ä»¶çš„å›è°ƒï¼Œä¹Ÿä¼šæŠ›å¼ƒå·²ç»åŠ å…¥ä»»åŠ¡é˜Ÿåˆ—è¦å¼‚æ­¥æ‰§è¡Œçš„å›è°ƒ 1234567891011let observer=new MutationObserver(()=&gt;console.log(&#x27;&lt;body&gt;attributes changed&#x27;));observer.observe(document.body,&#123;attributes:true&#125;);document.body.className=&#x27;foo&#x27;;observer.disconnect();document.body.className=&#x27;bar&#x27;;//æ— æ—¥å¿—è¾“å‡º//è®©å·²ç»å…¥é˜Ÿçš„å›è°ƒå‡½æ•°æ‰§è¡Œå®Œæ¯•åå†è°ƒç”¨disconnect()setTimeout(()=&gt;&#123; observer.disconnect(); document.body.className=&#x27;bar&#x27;;&#125;,0); å¤ç”¨MutationObserver12345678910let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords.map((x)=&gt;x.target)));let childA=document.createElement(&#x27;div&#x27;); childB=document.createElement(&#x27;span&#x27;);document.body.appendChild(childA);document.body.appendChild(childB);observer.observe(childA,&#123;attributes:true&#125;);observer.observe(childB,&#123;attributes:true&#125;);childA.setAttribute(&#x27;foo&#x27;,&#x27;bar&#x27;);childB.setAttribute(&#x27;foo&#x27;,&#x27;bar&#x27;);//[div, span] é‡ç”¨MutationObserverè°ƒç”¨diaconnect()ä¸ä¼šç»“æŸMutationObserverçš„ç”Ÿå‘½ï¼Œè¿˜å¯ä»¥é‡æ–°ä½¿ç”¨è¿™ä¸ªè§‚å¯Ÿè€…ï¼Œå†å°†å®ƒå…³è”åˆ°æ–°çš„ç›®æ ‡ç»“ç‚¹ MutationObserverInitä¸è§‚å¯ŸèŒƒå›´è§‚å¯Ÿå±æ€§è®¾ç½®attributesä¸ºtrue,è§‚å¯Ÿæ‰€æœ‰å±æ€§ 123456789let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords));observer.observe(document.body,&#123;attributes:true&#125;);//æ·»åŠ å±æ€§document.body.setAttribute(&#x27;foo&#x27;,&#x27;bar&#x27;);//ä¿®æ”¹å±æ€§document.body.setAttribute(&#x27;foo&#x27;,&#x27;baz&#x27;);//ç§»é™¤å±æ€§document.body.removeAttribute(&#x27;foo&#x27;); ç”¨attributeFilteræ·»åŠ ç™½åå•å±æ€§ 123456let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords));observer.observe(document.body,&#123;attributeFilter:[&#x27;foo&#x27;]&#125;);//æ·»åŠ ç™½åå•å±æ€§document.body.setAttribute(&#x27;foo&#x27;,&#x27;bar&#x27;);//æ·»åŠ è¢«æ’é™¤çš„å±æ€§document.body.setAttribute(&#x27;baz&#x27;,&#x27;qux&#x27;); åœ¨è®°å½•ä¸­ä¿å­˜å±æ€§åŸæ¥çš„å€¼ 123456let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords.map((x)=&gt;x.oldValue)));observer.observe(document.body,&#123;attributeOldValue:true&#125;);document.body.setAttribute(&#x27;foo&#x27;,&#x27;bar&#x27;);document.body.setAttribute(&#x27;foo&#x27;,&#x27;baz&#x27;);document.body.setAttribute(&#x27;foo&#x27;,&#x27;qux&#x27;);//[null, &#x27;bar&#x27;, &#x27;baz&#x27;] è§‚å¯Ÿå­—ç¬¦æ•°æ®12345678910111213let observer=new MutationObserver(document.body.firstChild,&#123;characterData:true&#125;);document.body.firstChild.textContent=&#x27;foo&#x27;;//åˆ›å»ºè¦è§‚å¯Ÿçš„æ–‡æœ¬èŠ‚ç‚¹observer.observe(document.body.firstChild,&#123;characterData:true&#125;);document.body.firstChild.textContent=&#x27;foo&#x27;;document.body.firstChild.textContent=&#x27;bar&#x27;;document.body.firstChild.textContent=&#x27;baz&#x27;;//ä½¿ç”¨characterDataOldValuelet observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords.map((x)=&gt;x.oldValue)));document.body.firstChild.textContent=&#x27;foo&#x27;;//åˆ›å»ºè¦è§‚å¯Ÿçš„æ–‡æœ¬èŠ‚ç‚¹observer.observe(document.body.firstChild,&#123;characterDataOldValue:true&#125;);document.body.firstChild.textContent=&#x27;foo&#x27;;document.body.firstChild.textContent=&#x27;bar&#x27;;document.body.firstChild.textContent=&#x27;baz&#x27;; è§‚å¯Ÿå­èŠ‚ç‚¹12345678document.body.innerHTML=&#x27;&#x27;;let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords));//åˆ›å»ºä¸¤ä¸ªåˆå§‹å­èŠ‚ç‚¹document.body.appendChild(document.createElement(&#x27;div&#x27;));document.body.appendChild(document.createElement(&#x27;span&#x27;));observer.observe(document.body,&#123;childList:true&#125;);document.body.insertBefore(document.body.lastChild,document.body.firstChild);//å‘ç”Ÿä¸¤æ¬¡å˜åŒ–ï¼Œå…ˆç§»é™¤èŠ‚ç‚¹å†æ·»åŠ èŠ‚ç‚¹ è§‚å¯Ÿå­æ ‘12345document.body.innerHTML=&#x27;&#x27;;let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords));document.body.appendChild(document.createElement(&#x27;div&#x27;));observer.observe(document.body,&#123;attributes:true,subtree:true&#125;);document.body.firstChild.setAttribute(&#x27;foo&#x27;,&#x27;baz&#x27;); å¼‚æ­¥å›è°ƒä¸è®°å½•é˜Ÿåˆ—takeRecords()æ–¹æ³•æ¸…ç©ºè®°å½•é˜Ÿåˆ—ï¼Œå–å‡ºå¹¶Â·è¿”å›å…¶ä¸­çš„æ‰€æœ‰MutationRecordå®ä¾‹,å¯ä»¥ç”¨åœ¨å¸Œæœ›æ–­å¼€ä¸è§‚å¯Ÿç›®æ ‡çš„è”ç³»ï¼Œä½†åˆå¸Œæœ›å¤„ç†ç”±äºdisconnect()è€Œè¢«æŠ›å¼ƒçš„è®°å½•é˜Ÿåˆ—ä¸­çš„MutationRecordå®ä¾‹ 12345678let observer=new MutationObserver((mutationRecords)=&gt;console.log(mutationRecords));observer.observe(document.body,&#123;attributes:true&#125;);document.body.className=&#x27;foo&#x27;;document.body.className=&#x27;bar&#x27;;console.log(observer.takeRecords());console.log(observer.takeRecords());//[MutationRecord, MutationRecord]//[]","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"DOMèŠ‚ç‚¹å±‚çº§","slug":"DOM-èŠ‚ç‚¹å±‚çº§","date":"2021-12-12T09:13:55.000Z","updated":"2021-12-30T07:17:10.340Z","comments":true,"path":"2021/12/12/DOM-èŠ‚ç‚¹å±‚çº§/","link":"","permalink":"https://coloey.github.io/2021/12/12/DOM-%E8%8A%82%E7%82%B9%E5%B1%82%E7%BA%A7/","excerpt":"","text":"Nodeç±»å‹DOM Level 1æè¿°ä¸ºåä¸ºNodeçš„æ¥å£ï¼ŒNodeæ¥å£åœ¨JavaScriptä¸­è¢«å®ç°ä¸ºNodeç±»å‹ï¼Œæ‰€æœ‰ç»“ç‚¹éƒ½ç»§æ‰¿Nodeç±»å‹ï¼Œå› æ­¤æ‰€æœ‰ç±»å‹éƒ½å…±äº«ç›¸åŒçš„åŸºæœ¬å±æ€§å’Œæ–¹æ³•ã€‚ èŠ‚ç‚¹ç±»å‹å¯é€šè¿‡ä¸è¿™äº›å¸¸é‡æ¯”è¾ƒæ¥ç¡®å®š 12345678//èŠ‚ç‚¹ç±»å‹å¯é€šè¿‡ä¸è¿™äº›å¸¸é‡æ¯”è¾ƒç¡®å®šï¼Œå¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œåˆ™æ„å‘³ç€someNodeæ˜¯ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹if(someNode.nodeType==Node.ELEMENT_NODE)&#123; alert(&quot;Node is an element&quot;);&#125;//nodeNameå’ŒnodeValueä¿å­˜ç€æœ‰å…³èŠ‚ç‚¹çš„ä¿¡æ¯if(someNode.nodeType==1)&#123; value=someNode.nodeName;//ä¼šæ˜¾ç¤ºå…ƒç´ çš„æ ‡ç­¾å&#125; èŠ‚ç‚¹å…³ç³»èŠ‚ç‚¹ä¸å…¶ä»–èŠ‚ç‚¹çš„å…³ç³»å¯å½¢å®¹ä¸ºå®¶æ—å…³ç³»ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªchildNodeså±æ€§å…¶ä¸­åŒ…å«ä¸€ä¸ªNodeListçš„å®ä¾‹ï¼ŒNodeListæ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œå®ƒæ˜¯DOMç»“æ„çš„æŸ¥è¯¢ï¼ŒDOMç»“æ„çš„å˜åŒ–ä¼šè‡ªåŠ¨åœ°åœ¨NodeListä¸­åæ˜ å‡ºæ¥ï¼Œç”¨äºå­˜å‚¨å¯ä»¥æŒ‰ä½ç½®å­˜å–çš„æœ‰åºèŠ‚ç‚¹ã€‚å¯ä»¥ä½¿ç”¨ä¸­æ‹¬å·æˆ–è€…item()æ–¹æ³•è®¿é—®å®ƒçš„å€¼ 1234let firstChild=someNode.childNodes[0];let secondChild=someNode.childNodes.item(1);let count=someNode.childNodes.length;let arrayofNodes=Array.from(someNode.childNodes); parentNodeæŒ‡å‘DOMæ ‘ä¸­çš„çˆ¶å…ƒç´ ï¼ŒchildNodeä¸­æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰åŒä¸€ä¸ªçˆ¶å…ƒç´ ï¼ŒparentNodeæŒ‡å‘åŒä¸€ä¸ªèŠ‚ç‚¹ï¼ŒchildNodesåˆ—è¡¨ä¸­æ¯ä¸ªç»“ç‚¹éƒ½æ˜¯åŒä¸€åˆ—è¡¨ä¸­å…¶ä»–èŠ‚ç‚¹çš„åŒèƒèŠ‚ç‚¹ï¼Œä½¿ç”¨previousSiblingå’ŒnextSiblingå¯ä»¥åœ¨è¿™ä¸ªåˆ—è¡¨çš„èŠ‚ç‚¹é—´å¯¼èˆªã€‚ hasChildNodes()èŠ‚ç‚¹è¿”å›trueåˆ™è¯´æ˜èŠ‚ç‚¹æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ã€‚ ownerDocumentå±æ€§æ˜¯ä¸€ä¸ªæŒ‡å‘ä»£è¡¨æ•´ä¸ªæ–‡æ¡£çš„æ–‡æ¡£èŠ‚ç‚¹çš„æŒ‡é’ˆ æ“çºµèŠ‚ç‚¹appendChild():ç”¨äºåœ¨childNodesåˆ—è¡¨æœ«å°¾æ·»åŠ èŠ‚ç‚¹ï¼Œè¿”å›æ–°æ·»åŠ çš„èŠ‚ç‚¹ã€‚ 123let returnedNode=someNode.appendChild(newNode);alert(returnedNode==newNode);//truealert(someNode.lastChild==newNode);//true inserBefore():æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦æ’å…¥çš„èŠ‚ç‚¹å’Œå‚ç…§èŠ‚ç‚¹ã€‚è¦æ’å…¥çš„èŠ‚ç‚¹ä¼šå˜æˆå‚ç…§èŠ‚ç‚¹çš„å‰ä¸€ä¸ªåŒèƒèŠ‚ç‚¹ï¼Œå¹¶è¢«è¿”å› 12345678910returnedNode=someNode.insertBefore(newNode,null);alert(newNode==someNode.lastChild);//true//ä½œä¸ºæ–°çš„ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹æ’å…¥retunedNode=someNode.insertBefore(newNode,someNode.firstChild);alert(returnedNode==newNode);//truealert(newNode==someNode.fiestChild);//true//æ’å…¥æœ€åä¸€ä¸ªå­èŠ‚ç‚¹çš„å‰é¢returnedNode==someNode.insertBefore(newNode,someNode.lastChild);alert(newNode==someNode.childNodes[someNode.childNodes.length-2]);//true replaceChild():æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦æ’å…¥çš„èŠ‚ç‚¹å’Œè¦æ›¿æ¢çš„èŠ‚ç‚¹ã€‚è¦æ›¿æ¢çš„èŠ‚ç‚¹è¢«è¿”å›å¹¶ä»æ–‡æ¡£ä¸­è¢«ç§»é™¤ 1returnedNode=someNode.replaceChild(newNode,someNode.lastChild);//æ›¿æ¢æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ removeChild():æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦è¢«ç§»é™¤çš„èŠ‚ç‚¹ï¼Œè¢«ç§»é™¤çš„èŠ‚ç‚¹ä¼šè¢«è¿”å› 1let formerFirstChild=someNode.removeChild(someNode.firstChild); cloneNode():ä¼ å…¥trueå‚æ•°ä¼šè¿›è¡Œæ·±å¤åˆ¶ï¼Œå³å¤åˆ¶èŠ‚ç‚¹å’Œæ•´ä¸ªå­DOMæ ‘ï¼›ä¼ å…¥falseè¿›è¡Œæµ…å¤åˆ¶ï¼Œåªä¼šå¤åˆ¶è¯¥æ–¹æ³•çš„èŠ‚ç‚¹ã€‚å¤åˆ¶è¿”å›çš„èŠ‚ç‚¹å±äºæ–‡æ¡£æ‰€æœ‰ï¼Œä½†æœªæŒ‡å®šçˆ¶èŠ‚ç‚¹ï¼Œç§°ä¸ºå­¤å„¿èŠ‚ç‚¹ï¼Œé€šè¿‡appendChild()å’ŒinsertBefore()æˆ–replaceChild()æ–¹æ³•æŠŠå­¤å„¿èŠ‚ç‚¹æ·»åŠ åˆ°æ–‡æ¡£ä¸­ normalize():å¤„ç†æ–‡æœ¬èŠ‚ç‚¹ï¼Œå¦‚æœå‘ç°ç©ºæ–‡æœ¬èŠ‚ç‚¹åˆ™å°†å…¶åˆ é™¤å¦åˆ™å¦‚æœä¸¤ä¸ªåŒèƒèŠ‚ç‚¹ç›¸é‚»åˆ™å°†å…¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ Documentç±»å‹è¡¨ç¤ºæ–‡æ¡£èŠ‚ç‚¹çš„ç±»å‹,documentæ˜¯HTMLDocumentçš„å®ä¾‹ï¼ˆHTMLDocumentç»§æ‰¿Documentï¼‰,è¡¨ç¤ºæ•´ä¸ªHTMLé¡µé¢ï¼Œdocumentæ˜¯windowå¯¹è±¡çš„å±æ€§æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ã€‚ nodetypeç­‰äº9 nodeNameå€¼ä¸ºâ€œ#documentâ€ nodevalueå€¼ä¸ºnull parentNodeå€¼ä¸ºnull ownerDocumentå€¼ä¸ºnull å­èŠ‚ç‚¹å¯ä»¥ä½¿DocumentType(æœ€å¤šä¸€ä¸ª)ï¼ŒElement(æœ€å¤šä¸€ä¸ª)ï¼ŒProcessingInstructionæˆ–Commentç±»å‹ æ–‡æ¡£å­èŠ‚ç‚¹documentElement:å§‹ç»ˆæŒ‡å‘HTMLé¡µé¢ä¸­çš„å…ƒç´  1234567&lt;html&gt; &lt;body&gt; &lt;/body&gt;&lt;/html&gt;let html=document.documentElement;//å–å¾—å¯¹&lt;html&gt;çš„å¼•ç”¨alert(html===document.childNodes[0]);alert(html===document.firstChild); document.body:ç›´æ¥æŒ‡å‘å…ƒç´ ï¼Œå–å¾—å¯¹çš„å¼•ç”¨ æ–‡æ¡£ä¿¡æ¯title:æ˜¾ç¤ºæµè§ˆå™¨çª—å£æˆ–æ ‡ç­¾é¡µçš„æ ‡é¢˜æ  URL:åŒ…å«å½“å‰é¡µé¢çš„å®Œæ•´URL domain:åŒ…å«é¡µé¢çš„åŸŸå referrer:åŒ…å«ç©ºå­—ç¬¦ä¸² 123//document.URL=&quot;http://www.wrox.com/WileyCDA/&quot;,document.domainå°±æ˜¯www.wrox.comdocument=&quot;wrrox.com&quot;;//æˆåŠŸdocument=&quot;nczonline.net&quot;;//å‡ºé”™,ä¸èƒ½ç»™è¿™ä¸ªå±æ€§è®¾ç½®URLä¸­ä¸åŒ…å«çš„å€¼ å½“é¡µé¢ä¸­åŒ…å«æ¥è‡ªæŸä¸ªä¸åŒå­åŸŸçš„çª—æ ¼ï¼ˆ)æˆ–å†…åµŒçª—æ ¼()è®¾ç½®document.domainæ˜¯æœ‰ç”¨çš„ï¼Œæ¯”å¦‚ä¸€ä¸ªåŠ è½½è‡ªwww.wrox.comçš„é¡µé¢åŒ…å«ä¸€ä¸ªå†…åµŒçª—æ ¼å…¶ä¸­çš„é¡µé¢åŠ è½½è‡ªp2p.wrox.comï¼Œè¿™ä¸¤ä¸ªé¡µé¢åŒ…å«ä¸åŒçš„å­—ç¬¦ä¸²ï¼Œå†…éƒ¨å’Œå¤–éƒ¨ä¸èƒ½ç›¸äº’è®¿é—®å¯¹æ–¹çš„JavaScriptå¯¹è±¡ï¼Œå¦‚æœæ¯ä¸ªé¡µé¢éƒ½æŠŠdocument.domainè®¾ç½®ä¸ºwrox.com,é‚£ä¸¤ä¸ªé¡µé¢å°±å¯ä»¥ç›¸äº’é€šä¿¡ 12document.domain=&quot;wrox.com&quot;;//æ”¾æ¾ï¼ŒæˆåŠŸdocument.doman=&quot;p2p2.wrox.com&quot;;//æ”¶ç´§ï¼Œå¤±è´¥,ä¸€æ—¦æ”¾æ¾å°±ä¸èƒ½æ”¶ç´§ å®šä½å…ƒç´ getElementById()ï¼šæ¥æ”¶ä¸€ä¸ªè¦è·å–å…ƒç´ çš„IDï¼Œå¦‚æœæ‰¾åˆ°è¿™ä¸ªå…ƒç´ åˆ™è¿”å›ï¼Œæ²¡æ‰¾åˆ°è¿”å›nullã€‚å‚æ•°Iå¿…é¡»è·Ÿå…ƒç´ åœ¨é¡µé¢ä¸­å¤§çš„idå±æ€§å®Œå…¨åŒ¹é…ï¼ŒåŒ…æ‹¬å¤§å°å†™ 12&lt;div id=&quot;myDiv&quot;&gt;ome text&lt;/div&gt;let div=document.getElementById(&quot;myDiv&quot;);//å–å¾—å¯¹&lt;div&gt;çš„å¼•ç”¨,å¦‚æœå­˜åœ¨å¤šä¸ªç›¸åŒIDçš„å…ƒç´ åˆ™è¿”å›åœ¨æ–‡æ¡£ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´  getElementsByTagName():æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦è·å–å…ƒç´ çš„æ ‡ç­¾å,è¿”å›åŒ…å«0ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„NodeListï¼Œåœ¨HTMLæ–‡æ¡£ä¸­è¿”å›ä¸€ä¸ªHTMLCollectionå¯¹è±¡ 12345678910let images=document.getElementsByTagName(&quot;img&quot;);alert(images.length);//å›¾ç‰‡æ•°é‡alert(images[0].src);//ç¬¬ä¸€å¼ å›¾ç‰‡çš„srcå±æ€§alert(images.item(0).src);//é€šè¿‡nameå±æ€§è·å¾—å¼•ç”¨&lt;img src=&quot;myImage.gif&quot; name=&quot;myImage&quot;&gt;;let myImage=images.namedItem(&quot;myImage&quot;);//images[&quot;myImage&quot;]//å–å¾—æ–‡æ¡£çš„æ‰€æœ‰å…ƒç´ let allElements=document.getElementsByTagName(&quot;*&quot;); getElementsByName():è¿”å›å…·æœ‰ç»™å®šnameå±æ€§çš„æ‰€æœ‰å…ƒç´ ï¼Œå¸¸ç”¨äºå•é€‰æŒ‰é’® 12345678910&lt;fieldset&gt; &lt;legend&gt;Which color do you prefer?&lt;/legend&gt; &lt;ul&gt; &lt;li&gt; &lt;input type=&quot;radio&quot; value=&quot;red&quot; name=&quot;color&quot; id=&quot;colorRed&quot;&gt;&lt;label for=&quot;colorRed&quot;&gt;Red&lt;/label&gt; &lt;/li&gt; &lt;li&gt; &lt;input type=&quot;radio&quot; value=&quot;blue&quot; name=&quot;color&quot; id=&quot;colorBlue&quot;&gt;&lt;label for=&quot;colorBlue&quot;&gt;Blue&lt;/label&gt; &lt;/li&gt; let radios=document.getElementsByName(&quot;color&quot;); Elementç±»å‹ nodeType=1 nodeNameå€¼ä¸ºå…ƒç´ çš„æ ‡ç­¾å nodeValueçš„å€¼ä¸ºnull parentNodeå€¼ä¸ºDocumentæˆ–Elementå¯¹è±¡ å­èŠ‚ç‚¹å¯ä»¥æ˜¯Element,Text,Comment,ProcessingInstructionç­‰ç±»å‹ é€šè¿‡nodeNameæˆ–tagNameå±æ€§è·å¾—å…ƒç´ çš„æ ‡ç­¾å 1234567891011121314151617181920//ä½¿ç”¨å¯¹è±¡å±æ€§&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;myDiv&quot;&gt;&lt;/div&gt; &lt;script&gt; let div=document.getElementById(&quot;myDiv&quot;); alert(div.tagName);//&quot;DIV&quot; alert(div.tagName==div.nodeName);//true if(element.tagName.toLowerCase()==&quot;div&quot;)&#123; //,HTMLä¸­ï¼Œå…ƒç´ æ ‡ç­¾åä»¥ç­”è°¢è¡¨ç¤ºï¼ŒXMLä¸­æ ‡ç­¾åä¸ä»£ç ä¸­çš„å¤§å°å†™ä¸€è‡´ï¼Œä¸ç¡®å®šè„šæœ¬æ˜¯HTMLè¿˜æ˜¯XMLè¿è¡Œï¼Œæ¨èå°†æ ‡ç­¾åè½¬æ¢ä¸ºå°å†™å½¢å¼ï¼Œé€‚åˆæ‰€æœ‰æ–‡æ¡£ &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; HTMLå…ƒç´  id:å…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„å”¯ä¸€æ ‡è¯†ç¬¦ titleï¼šåŒ…å«å…ƒç´ çš„é¢å¤–ä¿¡æ¯ï¼Œé€šå¸¸ä»¥æç¤ºæ¡å½¢å¼å±•ç¤º langï¼šå…ƒç´ å†…å®¹çš„è¯­è¨€ä»£ç  dirï¼šè¯­è¨€çš„ä¹¦å†™æ–¹å‘ï¼ˆlträ»å·¦åˆ°å³ï¼Œrtlä»å³åˆ°å·¦) className:ç›¸å½“äºclasså±æ€§ï¼Œç”¨äºæŒ‡å®šå…ƒç´ çš„CSSç±» å–å¾—å±æ€§1234567891011121314151617181920212223//ä½¿ç”¨å¯¹è±¡å±æ€§&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;myDiv&quot; class=&quot;bd&quot; title=&quot;Body text&quot; lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;2&lt;/div&gt; &lt;script&gt; var div=document.getElementById(&quot;myDiv&quot;); alert(div.id); alert(div.className); alert(div.title); alert(div.lang); alert(div.dir); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;//ä½¿ç”¨getAttribute()æ–¹æ³•alert(div.getAttribute(&quot;class&quot;)); getAttribute()ä¸»è¦ç”¨äºå–å¾—è‡ªå®šä¹‰å±æ€§çš„å€¼ï¼Œå…¶ä»–æƒ…å†µä½¿ç”¨å¯¹è±¡å±æ€§ è®¾ç½®å±æ€§setAttribute():æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œè¦è®¾ç½®çš„å±æ€§åå’Œå±æ€§å€¼,å¦‚æœå±æ€§å­˜åœ¨åˆ™ç”¨æŒ‡å®šçš„å€¼æ›¿æ¢åŸæ¥çš„å€¼ 1234567//ç›´æ¥ç»™å¯¹è±¡å±æ€§èµ‹å€¼div.id=&quot;someOtherId&quot;//åœ¨å¯¹è±¡å±æ€§ä¸Šæ·»åŠ è‡ªå®šä¹‰å±æ€§ï¼Œä¸ä¼šè®©å®ƒå˜æˆå…ƒç´ çš„å±æ€§div.mycolor=&quot;red&quot;;alert(div.getAttribute(&quot;mycolor&quot;));//null//ä½¿ç”¨setAttributeèµ‹å€¼div.setAttribute(&quot;id&quot;,&quot;someOtherId&quot;); attributeså±æ€§attributeså±æ€§åŒ…å«ä¸€ä¸ªNamedNodeMapå®ä¾‹ï¼Œæ˜¯ä¸€ä¸ªç±»ä¼¼NodeListçš„â€œå®æ—¶â€é›†åˆï¼Œå…ƒç´ çš„æ¯ä¸ªå±æ€§éƒ½è¡¨ç¤ºä¸ºä¸€ä¸ªAttrèŠ‚ç‚¹ï¼Œå¹¶ä¿å­˜åœ¨NamedNodeMapå¯¹è±¡ä¸­ attributedå±æ€§ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„nodeNameæ˜¯å¯¹åº”å±æ€§çš„åå­—ï¼ŒnodeValueæ˜¯å±æ€§çš„å€¼ 12345678function outputAttributes(element)&#123; let pairs=[]; for(let i=0,len=element.attributes.length;i&lt;len;++i)&#123; const attribute=element.attributes[i]; pairs.push(`$&#123;attribute.nodeName&#125;=$&#123;attribute.nodeValue&#125;`); return pairs.join(&quot; &quot;); &#125;&#125; åˆ›å»ºå…ƒç´ document.createElement():ä¸€ä¸ªå‚æ•°ï¼Œå³è¦åˆ›å»ºå…ƒç´ çš„æ ‡ç­¾å 1234let div=document.createElement(&quot;div&quot;);div.id=&quot;myNewDiv&quot;;div.className=&quot;box&quot;;document.body.appendChild(div); Text ç±»å‹TextèŠ‚ç‚¹ç”±Textç±»å‹è¡¨ç¤ºï¼ŒåŒ…å«æŒ‰å­—é¢è§£é‡Šçš„çº¯æ–‡æœ¬ï¼Œä¹Ÿå¯èƒ½åŒ…å«è½¬ä¹‰åçš„HTMLå­—ç¬¦ï¼ŒTextèŠ‚ç‚¹ä¸­åŒ…å«çš„æ–‡æœ¬å¯ä»¥é€šè¿‡nodeValueæˆ–è€…dataå±æ€§è®¿é—® nodetype=3 nodeName=â€#textâ€ nodeValueå€¼ä¸ºèŠ‚ç‚¹ä¸­åŒ…å«çš„æ–‡æœ¬ parentNodeå€¼ä¸ºElementå¯¹è±¡ ä¸æ”¯æŒå­èŠ‚ç‚¹ appendData(text):å‘èŠ‚ç‚¹æœ«å°¾æ·»åŠ æ–‡æœ¬text deleteData(offset,count),ä»ä½ç½®offsetå¼€å§‹åˆ é™¤countä¸ªå­—ç¬¦ insertData(offset,text),åœ¨ä½ç½®offsetæ’å…¥textï¼› replaceData(offset,count,text)ï¼Œç”¨textæ›¿æ¢ä»ä½ç½®offsetåˆ°offset+countå¤§çš„æ–‡æœ¬ splitText(offset),åœ¨ä½ç½®offsetå°†å½“å‰æ–‡æœ¬èŠ‚ç‚¹æ‹†åˆ†ä¸ºä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹ substringData(offset,count),æå–ä»ä½ç½®offsetåˆ°offset+countçš„æ–‡æœ¬ åŒ…å«æ–‡æœ¬å†…å®¹çš„æ¯ä¸ªå…ƒç´ æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹document.createTextNode():åˆ›å»ºæ–°æ–‡æœ¬èŠ‚ç‚¹ï¼Œæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³è¦æ’å…¥èŠ‚ç‚¹çš„æ–‡æœ¬ 123456789let element=document.createElement(&quot;div&quot;);element.className=&quot;message&quot;;let textNode=document.createTextNode(&quot;Hello world!&quot;);element.appendChild(textNode);let anotherTextNode=document.createTextNode(&quot;Yippee&quot;);element.appendChild(anotherTextNode);document.body.appendChild(element); è§„èŒƒåŒ–æ–‡æœ¬èŠ‚ç‚¹åˆå¹¶æ–‡æœ¬èŠ‚ç‚¹1234567891011let element=document.createElement(&quot;div&quot;);element.className=&quot;message&quot;;let textNode=document.createTextNode(&quot;Hello World&quot;);element.appendChild(textNode);let anotherTextNode=document.createTextNode(&quot;Yippee&quot;);element.appendChild(anotherTextNode);document.body.appendChild(element);alert(element.childNodes.length);//2element.normalize();alert(element.childNodes.length);//1alert(element.firstChild.nodeValue); æ‹†åˆ†æ–‡æœ¬èŠ‚ç‚¹12345678910let element=document.createElement(&quot;div&quot;);element.className=&quot;message&quot;;let textNode=document.createTextNode(&quot;Hello World&quot;);element.appendChild(textNode);document.body.appendChild(element);let newNode=element.firstChild.splitText(5);alert(element.fiestChild.nodeValue);//&quot;Hello&quot;alert(newNode.nodeValue);//&quot;world&quot;alert(element.chileNodes.length);//2 Commentç±»å‹ nodeType=8 nodeName=â€#commentâ€ nodeValueå€¼ä¸ºæ³¨é‡Šå†…å®¹ parentNodeå€¼ä¸ºDocumentæˆ–Elementå¯¹è±¡ ä¸æ”¯æŒå­èŠ‚ç‚¹ Commentç±»å‹ä¸Textç±»å‹ç»§æ‰¿è‡ªåŒä¸€ä¸ªåŸºç±»(CharacterData),å› æ­¤æ‹¥æœ‰é™¤splitTextä¹‹å¤–çš„TextèŠ‚ç‚¹æ‰€æœ‰çš„å­—ç¬¦ä¸²æ“ä½œæ–¹æ³• CDATASectionç±»å‹ç»§æ‰¿Textç±»å‹ï¼Œæ‹¥æœ‰é™¤splitTextä¹‹å¤–çš„TextèŠ‚ç‚¹æ‰€æœ‰çš„å­—ç¬¦ä¸²æ“ä½œæ–¹æ³• DocumentTypeç±»å‹ åœ¨DOM Level1ä¸­ä¸æ”¯æŒåŠ¨æ€åˆ›å»ºï¼Œåªèƒ½åœ¨è§£ææ–‡æ¡£ä»£ç æ—¶åˆ›å»ºï¼ŒDocumentTypeå¯¹è±¡ä¿å­˜åœ¨document.doctypeå±æ€§ä¸­. DocumentTypeå¯¹è±¡æœ‰3ä¸ªå±æ€§ï¼šname,entities,notations. nameæ˜¯æ–‡æ¡£åç§°ï¼Œentitiesæ˜¯è¿™ä¸ªæ–‡æ¡£ç±»å‹æè¿°å®ä½“çš„NameNodeMap,è€Œnotationsæ˜¯è¿™ä¸ªæ–‡æ¡£ç±»å‹æè¿°çš„è¡¨ç¤ºæ³•çš„NamedNodeMap. æµè§ˆå™¨æ–‡æ¡£é€šå¸¸æ˜¯HTMLæˆ–XHTMLç±»å‹ï¼Œæ‰€ä»¥entitieså’Œnotationsåˆ—è¡¨ä¸ºç©ºï¼Œåªæœ‰nameå±æ€§æœ‰ç”¨ï¼ŒåŒ…å«æ–‡æ¡£ç±»å‹çš„åç§° DocumentFragmentç±»å‹ nodeType=11 nodeName=â€#document-fragmentâ€ nodeValue=null parentNode=null å­èŠ‚ç‚¹å¯ä»¥æ˜¯Element,ProcessingInstruction,Comment,Text,CDATASection å……å½“å…¶ä»–è¦è¢«æ·»åŠ çš„æ–‡æ¡£èŠ‚ç‚¹çš„ä»“åº“ 123456789&lt;ul id=&quot;myList&quot;&gt;&lt;/ul&gt;let fragment=document.createDocumentFragment();let ul=document.getElementById(&quot;myList&quot;);for(let i=0;i&lt;3;i++)&#123; let li=document.createElement(&quot;li&quot;); li.appendChild(document.createTextNode(`Item $&#123;i+1&#125;`)); fragment.appendChild(li);&#125;ul.appendChild(fragment); Attrç±»å‹å±æ€§æ˜¯å­˜åœ¨äºå…ƒç´ attributeså±æ€§ä¸­çš„èŠ‚ç‚¹ nodeType=2 nodeNameå€¼ä¸ºå±æ€§å nodeValueå€¼ä¸ºå±æ€§å€¼ parentNodeå€¼ä¸ºnull Attrå¯¹è±¡ä¸Š3ä¸ªå±æ€§ nameåŒ…å«å±æ€§å valueåŒ…å«å±æ€§å€¼ specifiedæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå±æ€§ä½¿ç”¨çš„æ˜¯é»˜è®¤å€¼å’Œè¿˜æ˜¯è¢«æŒ‡å®šçš„å€¼ 12345678let attr=document.createAttribute(&quot;align&quot;);//åˆ›å»ºæ–°çš„AttrèŠ‚ç‚¹ï¼Œå‚æ•°ä¸ºå±æ€§åattr.value=&quot;left&quot;;element.setAttributeNode(attr);//æ·»åŠ å±æ€§èŠ‚ç‚¹alert(element.attributes[&quot;align&quot;].value);//è¿”å›å¯¹åº”å±æ€§èŠ‚ç‚¹alert(element.getAttributeNode(&quot;align&quot;).value);//è¿”å›å¯¹åº”å±æ€§èŠ‚ç‚¹alert(element.getAttribute(&quot;align&quot;));//åªè¿”å›å±æ€§å€¼","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"é€‰æ‹©æ¡†ç¼–ç¨‹","slug":"é€‰æ‹©æ¡†ç¼–ç¨‹","date":"2021-12-12T09:07:36.000Z","updated":"2021-12-30T07:18:26.023Z","comments":true,"path":"2021/12/12/é€‰æ‹©æ¡†ç¼–ç¨‹/","link":"","permalink":"https://coloey.github.io/2021/12/12/%E9%80%89%E6%8B%A9%E6%A1%86%E7%BC%96%E7%A8%8B/","excerpt":"","text":"é€‰é¡¹å¤„ç†ä½¿ç”¨é€‰æ‹©æ¡†çš„selectedIndexå±æ€§ 123456789101112131415161718192021222324252627282930 &lt;form method=&quot;post&quot;&gt; &lt;select name=&quot;location&quot; id=&quot;selLocation&quot;&gt; &lt;option value=&quot;Sunnyvalue,CA&quot;&gt;Sunnyvalue&lt;/option&gt; &lt;option value=&quot;Los Angeles,CA&quot;&gt;Los Angeles&lt;/option&gt; &lt;option value=&quot;Mountain View,CA&quot;&gt;Mountain View&lt;/option&gt; &lt;option value=&quot;&quot;&gt;China&lt;/option&gt; &lt;option &gt;Australia&lt;/option&gt; &lt;/select&gt; &lt;/form&gt; &lt;script src=&quot;example3.js&quot;&gt;&lt;/script&gt; let selectbox=document.forms[0].elements[&quot;location&quot;];function getSelectedOptions(selectbox)&#123; let result=new Array(); for(let option of selectbox.options)&#123; if(option.selected)&#123; result.push(option); &#125; &#125; return result;&#125;let selectedOptions=getSelectedOptions(selectbox);let message=&quot;&quot;;for(let option of selectedOptions)&#123; message+=`Selected index:$&#123;option.index&#125;\\n`+`Selected text:$&#123;option.text&#125;\\n`+`Selected value:$&#123;option.value&#125;\\n`;&#125;console.log(message); æ·»åŠ é€‰é¡¹åŠ¨æ€åˆ›å»ºé€‰é¡¹1234let newOption=document.createElement(&quot;option&quot;);newOption.appendChild(document.createTextNode(&quot;Option text&quot;));newOption.setAttribute(&quot;value&quot;,&quot;Option value&quot;);selectbox.appendChild(newOption); ä½¿ç”¨Optionæ„é€ å‡½æ•°åˆ›å»ºé€‰é¡¹,æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼štextå’Œvalueï¼Œç”¨é€‰æ‹©æ¡†çš„addæ–¹æ³•æ·»åŠ é€‰é¡¹ 12let newOption=new Option(&quot;Option text&quot;,&quot;Option value&quot;);selectbox.add(newOption,undefined);//åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ é€‰é¡¹ ç§»é™¤é€‰é¡¹123456789selectbox.removeChild(selectbox.options[0]);//ç§»é™¤ç¬¬ä¸€é¡¹selectbox.remove(0);//ç§»é™¤ç¬¬ä¸€é¡¹selectbox.options[0]=null;//æ¸…é™¤é€‰é¡¹æ¡†çš„æ‰€æœ‰é€‰é¡¹function clearSelectbox(selectbox)&#123; for(let option of selectbox.options)&#123; selectbox.remove(0); &#125;&#125; ç§»åŠ¨å’Œé‡æ’é€‰é¡¹1234let selectbox1=document.getElementById(&quot;selLocations1&quot;);let selectbox2=document.getElementById(&quot;selLocations2&quot;);selectbox2.appendChild(selectbox1.options[0]);//å°†é€‰é¡¹ä»ç¬¬ä¸€ä¸ªé€‰æ‹©æ¡†ç§»åŠ¨åˆ°å¦ä¸€ä¸ªé€‰æ‹©æ¡† é‡æ’é€‰é¡¹ 123456let selectbox1=document.getElementById(&quot;selLocations1&quot;);let optionToMove=selectbox1.options[1];selectbox1.insertBefore(optionToMove,selectbox1.options[optionToMove.index-1]);//å°†è¦é‡æ’çš„é€‰é¡¹ç§»åŠ¨åˆ°å®ƒåŸå…ˆä½ç½®çš„å‰å‰é¢let selectbox1=document.getElementById(&quot;selLocations1&quot;);let optionToMove=selectbox1.options[1];selectbox1.insertBefore(optionToMove,selectbox1.options[optionToMove.index+2]);//å°†è¦é‡æ’çš„é€‰é¡¹ç§»åŠ¨åˆ°å®ƒåŸå…ˆä½ç½®çš„åé¢ä¸€ä½","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"æ–‡æœ¬æ¡†ç¼–ç¨‹","slug":"æ–‡æœ¬æ¡†","date":"2021-12-09T12:46:20.000Z","updated":"2021-12-30T07:18:16.782Z","comments":true,"path":"2021/12/09/æ–‡æœ¬æ¡†/","link":"","permalink":"https://coloey.github.io/2021/12/09/%E6%96%87%E6%9C%AC%E6%A1%86/","excerpt":"","text":"æ–‡æœ¬æ¡†ç¼–ç¨‹è¡¨ç¤ºæ–‡æœ¬æ¡†çš„ä¸¤ç§æ–¹å¼123456&lt;input type=&quot;text&quot; size=&quot;25&quot; maxlength=&quot;50&quot; value=&quot;initial value&quot;&gt; //åˆ›å»ºå¤šè¡Œæ–‡æœ¬æ¡† &lt;textarea rows=&quot;25&quot; cols=&quot;5&quot;&gt;initial value&lt;/textarea&gt;//ç”¨ä½¿ç”¨valueå±æ€§è¯»å†™æ–‡æœ¬æ¡†let textbox=document.forms[0].elements[&quot;textbox1&quot;];textbox.value=&quot;Some new value&quot;; é€‰æ‹©æ–‡æœ¬select()ç”¨äºå…¨é€‰æ–‡æœ¬ 123456let form=document.getElementById(&quot;myForm&quot;); let textbox=form.elements[0]; textbox.addEventListener(&quot;focus&quot;,(event)=&gt;&#123; event.target.select(); console.log(`Text selected:$&#123;textbox.value&#125;`); &#125;); setSelectionRange()ç”¨äºéƒ¨åˆ†é€‰æ‹©æ–‡æœ¬ 1234567let form=document.getElementById(&quot;myForm&quot;);let textbox=form.elements[0];textbox.addEventListener(&quot;focus&quot;,(event)=&gt;&#123; event.target.select(); textbox.setSelectionRange(0,1); console.log(`Text selected:$&#123;textbox.value&#125;`); &#125;); å±è”½æŒ‰é”®12345textbox.addEventListener(&quot;keypress&quot;,(event)=&gt;&#123; if(!/\\d/.test(String.fromCharCode(event.charCode))&amp;&amp;event.charCode&gt;9&amp;&amp;!event.ctrlKey)&#123;//å±è”½éæ•°å­—å­—ç¬¦ä½†å…è®¸åŒæ ·è§¦å‘keypressäº‹ä»¶çš„æ‰€æœ‰åŸºç¡€æŒ‰é”®ä»¥åŠctrlé”® event.preventDefault(); &#125;&#125;) è‡ªåŠ¨åˆ‡æ¢1234567891011121314151617181920212223242526&lt;form method=&quot;post&quot;&gt; &lt;input type=&quot;text &quot; name=&quot;tel1&quot; id=&quot;textTel1&quot; maxlength=&quot;3&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;tel2&quot; id=&quot;textTel2&quot; maxlength=&quot;3&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;tel3&quot; id=&quot;textTel3&quot; maxlength=&quot;4&quot;&gt; &lt;/form&gt; let inputIds=[&quot;textTel1&quot;,&quot;textTel2&quot;,&quot;textTel3&quot;];for(let id of inputIds)&#123; let textbox=document.getElementById(id); textbox.addEventListener(&quot;keyup&quot;,(event)=&gt;&#123; let target=event.target; if(target.value.length==target.maxLength)&#123; let form=target.form; for(let i=0,len=form.elements.length;i&lt;len;i++)&#123; if(form.elements[i]==target)&#123; if(form.elements[i+1])&#123; form.elements[i+1].focus(); &#125; return; &#125; &#125; &#125; &#125;); &#125;;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"è¡¨å•","slug":"è¡¨å•","date":"2021-12-09T12:11:33.000Z","updated":"2021-12-30T07:17:44.744Z","comments":true,"path":"2021/12/09/è¡¨å•/","link":"","permalink":"https://coloey.github.io/2021/12/09/%E8%A1%A8%E5%8D%95/","excerpt":"","text":"è¡¨å•ç¦ç”¨è¡¨å•é¿å…å¤šæ¬¡æäº¤è¡¨å•å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡ç‚¹å‡»åç¦ç”¨è¡¨å• 12345678let form=document.getElementById(&quot;myForm&quot;);form.addEventListener(&quot;submit&quot;,(event)=&gt;&#123; let target=event.target; //å–å¾—æäº¤æŒ‰é’® let btn=target.elements[&quot;submit-btn&quot;]; //ç¦ç”¨æäº¤æŒ‰é’® btn.disabled=true;&#125;) focus()æŠŠç„¦ç‚¹è®¾ç½®åˆ°è¡¨å•å­—æ®µ,è¿™æ„å‘³ç€è¯¥å­—æ®µä¼šå˜æˆæ´»åŠ¨å­—æ®µå¹¶å¯ä»¥å“åº”é”®ç›˜äº‹ä»¶,autofocus()ä¼šè‡ªåŠ¨ä¸ºå¸¦æœ‰è¯¥å±æ€§çš„å…ƒç´ è®¾ç½®ç„¦ç‚¹ 12345678let form=document.getElementById(&quot;myForm&quot;);window.addEventListener(&quot;load&quot;,(event)=&gt;&#123; let element=form.elements[0]; if(element.autofocus!==true)&#123; element.focus(); console.log(&quot;JS focus&quot;); &#125; &#125;) è¡¨å•çš„å…¬å…±äº‹ä»¶","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"BOM","slug":"BOM","date":"2021-11-25T12:47:05.000Z","updated":"2021-12-30T07:04:56.946Z","comments":true,"path":"2021/11/25/BOM/","link":"","permalink":"https://coloey.github.io/2021/11/25/BOM/","excerpt":"","text":"BOMlocationå¯¹è±¡æä¾›å½“å‰çª—å£åŠ è½½æ–‡æ¡£çš„ä¿¡æ¯ï¼Œä»¥åŠé€šå¸¸çš„å¯¼èˆªåŠŸèƒ½ï¼Œå®ƒæ—¢æ˜¯windowçš„å±æ€§ä¹Ÿæ˜¯documentçš„å±æ€§ã€‚ æŸ¥è¯¢å­—ç¬¦ä¸²123456789101112131415161718let getQueryStringArgs=function()&#123; //å–å¾—æ²¡æœ‰å¼€å¤´é—®å·çš„æŸ¥è¯¢å­—ç¬¦ä¸² let qs=(location.search.length&gt;0)?location.search.substring(1):&quot;&quot;; let args=&#123;&#125;; for(let item of(qs.split(&#x27;&amp;&#x27;).map(kv=&gt;kv.split(&#x27;=&#x27;))))&#123; let name=item[0]; value=item[1]; if(name.length)&#123; args[name]=value; &#125; &#125; return args;&#125;//qs=&quot;?q=javaScript&amp;num=10&quot;;let args=getQueryStringArgs();alert(args[&quot;q&quot;]);alert(args[&#x27;num&#x27;]); ä½¿ç”¨USLSearchParamsæ£€æŸ¥å’Œä¿®æ”¹æŸ¥è¯¢å­—ç¬¦ä¸² 123456789101112let qs=&quot;?q=javaScript&amp;num=10&quot;;let searchParams=new URLSearchParams(qs);alert(searchParams.toString());searchParams.has(&quot;num&quot;);searchParams.get(&quot;num&quot;);searchParams.set(&quot;page&quot;,&quot;3&quot;);alert(searchParams.toString());searchParams.delete(&quot;q&quot;);alert(searchParams.toString());for(let param of searchParams)&#123; console.log(param);&#125; æ“ä½œåœ°å€é€šè¿‡ä¿®æ”¹locationå¯¹è±¡ä¿®æ”¹æµè§ˆå™¨åœ°å€ï¼Œä½¿ç”¨assignæ–¹æ³•ä¼ è¿›ä¸€ä¸ªURL,ä¼šå¯¼èˆªåˆ°æ–°URLåŒæ—¶åœ¨æµè§ˆå™¨å†å²è®°å½•å¢åŠ ä¸€æ¡è®°å½•ï¼Œä¸‹é¢ä¸‰ç§æ–¹æ³•åŠŸèƒ½ç›¸åŒ 123location.assign(&quot;http://www.wrox.com&quot;);window.location=&quot;http://www.wrox.com&quot;;location.href=&quot;http://www.wrox.com&quot;; é€šè¿‡ä¿®æ”¹locationå±æ€§å¯ä»¥ä¿®æ”¹å½“å‰åŠ è½½çš„é¡µé¢,hash,search,hostname,pathname.portå±æ€§è¢«è®¾ç½®ä¸ºæ–°å€¼åä¼šä¿®æ”¹å½“å‰çš„URL 123456789101112//å‡è®¾å½“å‰URLä¸ºhttp://www.wrox.com/WileyCDA/location.assign(&quot;http://www.wrox.com/WileyCDA&quot;);//æŠŠURLä¿®æ”¹ä¸ºhttp://www.wrox.com/WileyCDA/#section1location.hash=&quot;#section1&quot;;//æŠŠURLä¿®æ”¹ä¸ºhttp://www.wrox.com/WileyCDA/?q=javascriptlocation.search=&quot;?q=javascript&quot;;//æŠŠURLä¿®æ”¹ä¸ºhttp://www.somewhere.com/WileyCDA/location.hostname=&quot;www.somewhere.com&quot;;//æŠŠURLä¿®æ”¹ä¸ºhttp://www.somewhere.com/mydir/location.pathname=&quot;mydir&quot;;//æŠŠURLä¿®æ”¹ä¸ºhttp://www.somewhere.com:8080/WileyCDA/location.port=8080; ä»¥ä¸Šçš„ä¿®æ”¹ä¼šåœ¨æµè§ˆå™¨ä¸­å¢åŠ è®°å½•ï¼Œç‚¹å‡»åé€€å³å¯å¯¼èˆªåˆ°å‰ä¸€ä¸ªç•Œé¢ï¼Œä¸å¸Œæœ›å¢åŠ å†å²è®°å½•å¯ä»¥ä½¿ç”¨replace()æ–¹æ³•ï¼Œreload()å¯ä»¥é‡æ–°åŠ è½½å½“å‰é¡µé¢ï¼Œå¦‚æœé¡µé¢è‡ªä»ä¸Šæ¬¡è¯·æ±‚åæ²¡æœ‰ä¿®æ”¹è¿‡ï¼Œåˆ™æµè§ˆå™¨å¯èƒ½ä¼šä»ç¼“å­˜ä¸­åŠ è½½é¡µé¢ï¼Œå¦‚æœæƒ³å¼ºåˆ¶ä»æœåŠ¡å™¨ä¸­åŠ è½½ï¼Œå¿…é¡»ä¼ å…¥true historyå¯¹è±¡historyç”¨æ¥å¯¼èˆªå†å²è®°å½•ï¼ŒåŒæ—¶ä¸ä¼šæš´éœ²ç”¨æˆ·è®¿é—®è¿‡çš„URLã€‚ 12345678history.go(-1);//åé€€ä¸€é¡µhistory.go(1);//å‰è¿›ä¸€é¡µhistory.go(&quot;wrox.com&quot;)//å¯¼èˆªåˆ°æœ€è¿‘çš„wrox.comé¡µé¢//goæœ‰ä¸¤ä¸ªç®€å†™æ–¹æ³•ï¼šback()å’Œforward()history.back();//åé€€ä¸€é¡µhistory.forward()//å‰è¿›ä¸€é¡µ//historyçš„lengthå±æ€§è®°å½•å†å²è®°å½•æœ‰å¤šå°‘æ¡ç›®if(history.length==1)&#123;//è¿™æ˜¯ç”¨æˆ·çª—å£ç¬¬ä¸€ä¸ªé¡µé¢&#125; navigatorå¯¹è±¡navigatorå¯¹è±¡é€šå¸¸ç”¨æ¥ç¡®å®šæµè§ˆå™¨çš„ç±»å‹ æ£€æµ‹æ’ä»¶123456789101112131415161718192021222324252627282930313233343536function hasPlugin(name)&#123; name=name.toLowerCase(); for(let plugin of window.navigator.plugins)&#123; if(plugin.name.toLowerCase().indexOf(name)&gt;-1)&#123;return true;&#125; &#125; return false;&#125;//alert(hasPlugin(&quot;Flash&quot;));//alert(hasPlugin(&quot;QuickTime&quot;));function hasIEPlugin(name)&#123; try&#123; new ActiveXObject(name); return true; &#125;catch(ex)&#123; return false; &#125;&#125;//åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­æ£€æµ‹æ’ä»¶function hasFlash()&#123; var result=hasPlugin(&quot;Flash&quot;); if(!result)&#123; result=hasIEPlugin(&quot;ShockwaveFlash.ShockwaveFlash&quot;); &#125;return result;&#125;function hasQuickTime()&#123; var res=hasPlugin(&quot;QuickTime&quot;); if(!res)&#123; res=hasIEPlugin(&quot;QuickTime.QuickTime&quot;); &#125; return res;&#125;alert(hasFlash());alert(hasQuickTime()); æ³¨å†Œå¤„ç†ç¨‹åºregisterProtocolHandler()æ–¹æ³•å¯ä»¥æŠŠä¸€ä¸ªç½‘ç«™æ³¨å†Œå¤„ç†ä¸ºæŸç§ç‰¹å®šç±»å‹ä¿¡æ¯åº”ç”¨ç¨‹åºï¼Œä¼ å…¥3ä¸ªå‚æ•°ï¼šè¦å¤„ç†çš„åè®®ï¼ˆâ€œmailtoæˆ–ftp),å¤„ç†è¯¥åè®®çš„URLï¼Œä»¥åŠåº”ç”¨åç§° ä¾‹å¦‚ï¼ŒæŠŠä¸€ä¸ªWebåº”ç”¨ç¨‹åºæ³¨å†Œä¸ºé»˜è®¤å®¢æˆ·ç«¯ 1navigator.registerProtocolHandler(&quot;mailto&quot;,&quot;http://www.somemailclient.com?cmd=%s&quot;,&quot;Some Mail Client&quot;);","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]},{"title":"HTML+CSS","slug":"HTML+CSS","date":"2021-11-25T12:42:24.000Z","updated":"2021-12-30T07:17:34.845Z","comments":true,"path":"2021/11/25/HTML+CSS/","link":"","permalink":"https://coloey.github.io/2021/11/25/HTML+CSS/","excerpt":"","text":"å®šä½ï¼šå®šä½æ€»ç»“ï¼š static: ä¸è„±æ ‡ï¼Œä¸èƒ½ä½¿ç”¨è¾¹åç§» relative:ä¸è„±æ ‡ï¼ˆå æœ‰ä½ç½®ï¼‰ï¼Œå¯ç”¨margin,ç›¸å¯¹äºè‡ªèº«ä½ç½®ç§»åŠ¨ absolute:è„±æ ‡ï¼ˆä¸å æœ‰ä½ç½®ï¼‰,ä¸å¯ç”¨margin,å¸¦æœ‰å®šä½çš„çˆ¶çº§ fixedï¼šè„±æ ‡ï¼ˆä¸å æœ‰ä½ç½®ï¼‰ï¼Œæµè§ˆå™¨å¯è§†åŒº sticky:ä¸è„±æ ‡ï¼ˆå æœ‰ä½ç½®ï¼‰ï¼Œæµè§ˆå™¨å¯è§†åŒº ç»å¯¹å®šä½ç‰¹ç‚¹ï¼šå¦‚æœæ²¡æœ‰ç¥–å…ˆå…ƒç´ æˆ–è€…ç¥–å…ˆå…ƒç´ æ²¡æœ‰å®šä½ï¼Œåˆ™ä»¥æµè§ˆå™¨ä¸ºå‡†å®šä½ å¦‚æœç¥–å…ˆå…ƒç´ æœ‰å®šä½ï¼ˆç›¸å¯¹ï¼Œç»å¯¹ï¼Œå›ºå®šå®šä½ï¼‰åˆ™ä»¥æœ€è¿‘ä¸€çº§çš„æœ‰å®šä½çš„ç¥–å…ˆå…ƒç´ ä¸ºå‚è€ƒç‚¹ç§»åŠ¨ä½ç½® ç»å¯¹å®šä½ä¸å æœ‰åŸå…ˆçš„ä½ç½®ï¼ˆè„±æ ‡ï¼‰ å æ”¾æ¬¡åº z-indexåœ¨ä½¿ç”¨å®šä½å¸ƒå±€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨z-indexæ¥æ§åˆ¶ç›’å­çš„å‰åæ¬¡åº è¯­æ³•ï¼š é€‰æ‹©å™¨{z-index:1;} æ•°å€¼å¯ä»¥æ˜¯æ­£æ•´æ•°ï¼Œè´Ÿæ•´æ•°æˆ–è€…0ï¼Œé»˜è®¤æ˜¯autoï¼Œæ•°å€¼è¶Šå¤§ï¼Œç›’å­è¶Šé ä¸Š å¦‚æœå±æ€§ç›¸åŒï¼Œåˆ™æŒ‰ç…§ä¹¦å†™é¡ºåºï¼Œåæ¥å±…ä¸Š æ•°å­—åé¢ä¸èƒ½åŠ å•ä½ åªæœ‰å®šä½çš„ç›’å­æ‰æœ‰z-indexå±æ€§ å®šä½çš„æ‹“å±•1.ç»å¯¹å®šä½ç›’å­å±…ä¸­ left:50% margin-left:-100px; 2.å®šä½ç‰¹æ®Šæ€§ï¼šç»å¯¹å®šä½å›ºå®šå®šä½å’Œæµ®åŠ¨ç›¸ä¼¼ è¡Œå†…å…ƒç´ æ·»åŠ ç»å¯¹æˆ–è€…å›ºå®šå®šä½ï¼Œå¯ä»¥ç›´æ¥è®¾ç½®é«˜åº¦å’Œå®½åº¦ï¼ˆspan) å—çº§å…ƒç´ æ·»åŠ ç»å¯¹æˆ–è€…å›ºå®šå®šä½ï¼Œå¦‚æœä¸ç»™å®½åº¦æˆ–è€…é«˜åº¦ï¼Œé»˜è®¤å¤§å°æ˜¯å†…å®¹çš„å¤§å° è„±æ ‡çš„ç›’å­ä¸ä¼šè§¦å‘å¤–è¾¹è·åˆå¹¶é—®é¢˜ 3.ç»å¯¹å®šä½ï¼ˆå›ºå®šå®šä½ï¼‰ä¼šå®Œå…¨å‹ä½ç›’å­æµ®åŠ¨å…ƒç´ åªä¼šå‹ä½ä¸‹é¢æ ‡å‡†æµçš„ç›’å­ï¼Œä½†æ˜¯ä¸ä¼šå‹ä½ä¸‹é¢æ ‡å‡†æµçš„æ–‡å­—ï¼ˆå›¾ç‰‡ï¼‰ä½†æ˜¯ç»å¯¹å®šä½ï¼ˆå›ºå®šå®šä½ï¼‰ä¼šå‹ä½ä¸‹é¢æ ‡å‡†æµçš„æ‰€æœ‰å†…å®¹ æµ®åŠ¨ä¹‹æ‰€ä»¥ä¸ä¼šå‹ä½ä¸‹é¢æ–‡å­—æ˜¯å› ä¸ºæµ®åŠ¨æœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†åšæ–‡å­—ç¯ç»•æ•ˆæœ å…ƒç´ é‡Œçš„æ˜¾ç¤ºå’Œéšè—display æ˜¾ç¤ºéšè—å…ƒç´  ä½†æ˜¯ä¸ä¿ç•™ä½ç½® éšè—å…ƒç´ ä¸æƒ³è¦åŸæ¥ä½ç½®ï¼Œç”¨noneï¼Œå¦åˆ™ç”¨block visibilityæ˜¾ç¤ºéšè—å…ƒç´  ä½†æ˜¯ä¿ç•™åŸæ¥çš„ä½ç½®,visibleä¸ºå…ƒç´ å¯è§ï¼Œhiddenä¸ºå…ƒç´ éšè— overflow æº¢å‡ºæ˜¾ç¤ºéšè— ä½†æ˜¯åªæ˜¯å¯¹äºæº¢å‡ºçš„éƒ¨åˆ†å¤„ç†,scoll:æº¢å‡ºçš„éƒ¨åˆ†æ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œvisible:æº¢å‡ºéƒ¨åˆ†å¯è§,hidden:æº¢å‡ºéƒ¨åˆ†ä¸å¯è§,auto:æ²¡æº¢å‡ºåˆ™ä¸æ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œæº¢å‡ºåˆ™è¶…å‡ºéƒ¨åˆ†æ˜¾ç¤ºæ»šåŠ¨æ¡ã€‚ ç”¨æˆ·ç•Œé¢æ ·å¼é¼ æ ‡æ ·å¼cursorli &#123;cursor: pointer; &#125; default é»˜è®¤å°ç™½é¼ æ ‡ pointer å°æ‰‹ move ç§»åŠ¨ text æ–‡æœ¬ not-allowed ç¦æ­¢ vertical-alignå®ç°è¡Œå†…å—å’Œæ–‡å­—å±…ä¸­å¯¹é½vertical-align:middle è§£å†³å›¾ç‰‡åº•éƒ¨é»˜è®¤ç©ºç™½ç©ºéš™ï¼šå›¾ç‰‡åº•ä¾§ä¼šæœ‰ä¸€ä¸ªç©ºç™½ç¼éš™ï¼ŒåŸå› æ˜¯è¡Œå†…å—å…ƒç´ ä¼šå’Œæ–‡å­—çš„åŸºçº¿å¯¹é½è§£å†³æ–¹æ³•ï¼š1.ç»™å›¾ç‰‡æ·»åŠ vertical-align:middleæˆ–è€…topæˆ–è€…bottom 2.æŠŠå›¾ç‰‡è½¬ä¸ºå—çº§å…ƒç´  display:block å•è¡Œæ–‡å­—æº¢å‡ºæ˜¾ç¤ºçœç•¥å·white-space:nomal:å¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å¼€è‡ªåŠ¨æ¢è¡Œ white-space:nowrap:å¦‚æœæ–‡å­—æ˜¾ç¤ºä¸å¼€å¼ºåˆ¶ä¸€è¡Œå†…æ˜¾ç¤º overflow:hidden(æº¢å‡ºéƒ¨åˆ†éšè—) text-overflow:ellipsis(æ–‡å­—æº¢å‡ºéƒ¨åˆ†ç”¨çœç•¥å·æ˜¾ç¤º) å¤šè¡Œæ–‡æœ¬æº¢å‡ºæ˜¾ç¤ºçœç•¥å·â€‹ width: 150px; â€‹ height: 65px; â€‹ background-color: pink; â€‹ margin: 100px auto; â€‹ overflow: hidden; â€‹ text-overflow: ellipsis; â€‹ display: -webkit-box; â€‹ /* ä»ç¬¬å‡ è¡Œå¼€å§‹çœç•¥ */ â€‹ -webkit-line-clamp: 3; â€‹ -webkit-box-orient: vertical; å¸¸è§å¸ƒå±€æŠ€å·§marginè´Ÿå€¼ä½¿ç”¨è®©æ¯ä¸ªç›’å­marginå¾€å·¦ç§»åŠ¨-1pxï¼Œæ­£å¥½å‹ä½ç›¸é‚»ç›’å­çš„è¾¹æ¡† é¼ æ ‡ç»è¿‡ç›’å­æé«˜å½“å‰ç›’å­å±‚çº§ï¼ˆå¦‚æœæ²¡æœ‰å®šä½ï¼Œåˆ™åŠ ç›¸å¯¹å®šä½ï¼ˆä¿ç•™ä½ç½®ï¼‰å¦‚æœéƒ½æœ‰å®šä½åˆ™ç”¨z-index) æ–‡å­—å›´ç»•æµ®åŠ¨å…ƒç´ ä¸‰è§’å½¢åˆ¶ä½œ weight:0; height:0; border-color:transparent red transparent transprent; border-style:solid; border-width:22px 8px 0 0;(ä¸Šé¢çš„å®½ï¼Œå³è¾¹çš„å°ä¸€äº›) HTMLæ–°æ ‡ç­¾header:å¤´éƒ¨æ ‡ç­¾ navï¼šå¯¼èˆªæ ‡ç­¾ article:å†…å®¹æ ‡ç­¾ section:å®šä¹‰æ–‡æ¡£æŸä¸ªåŒºåŸŸ aside:ä¾§è¾¹æ æ ‡ç­¾ footerï¼šå°¾éƒ¨æ ‡ç­¾ ä¸»è¦é’ˆå¯¹æœç´¢å¼•æ“ï¼Œè¿™äº›æ–°æ ‡ç­¾é¡µé¢ä¸­å¯ä»¥ä½¿ç”¨å¤šæ¬¡ï¼Œåœ¨IE9ä¸­ï¼Œéœ€è¦æŠŠè¿™äº›å…ƒç´ è½¬æ¢ä¸ºå—çº§å…ƒç´  è§†é¢‘ç”¨mp4æ ¼å¼ autoplay:è‡ªåŠ¨æ’­æ”¾ controls:å‘ç”¨æˆ·ä½¿ç”¨æ’­æ”¾æ§ä»¶ width:è®¾ç½®æ’­æ”¾å™¨å®½åº¦ height:è®¾ç½®é«˜åº¦ loop:æ˜¯å¦å¾ªç¯æ’­æ”¾ srcï¼šurlï¼ˆè§†é¢‘urlåœ°å€ï¼‰ poster:åŠ è½½ç­‰å¾…çš„ç”»é¢å›¾ç‰‡ mutedï¼šé™éŸ³æ’­æ”¾ æ–°å¢inputè¡¨å•type=â€emailâ€ type=â€urlâ€ type=â€dateâ€ type=â€timeâ€ type=â€monthâ€ type=â€weekâ€ type=â€numbersâ€ type=â€telâ€ type=â€searchâ€ type=â€colorâ€ inputå±æ€§ required=â€requiedâ€è¡¨ç¤ºè¯¥å†…å®¹ä¸èƒ½ä¸ºç©ºï¼Œå¿…å¡« placeholder=â€placeholderâ€æç¤ºæ–‡æœ¬ï¼Œè¡¨å•æç¤ºä¿¡æ¯ autofocus=â€autofocusâ€è‡ªåŠ¨èšç„¦å±æ€§ï¼Œé¡µé¢åŠ è½½å®Œæˆè‡ªåŠ¨èšç„¦åˆ°æŒ‡å®šè¡¨å• autocompleteï¼šé»˜è®¤ä¸ºonï¼Œå½“ç”¨æˆ·é”®å…¥å­—æ®µæ—¶åŸºäºä¹‹å‰é”®å…¥çš„å€¼æ˜¾ç¤ºå‡ºå­—æ®µï¼Œå…³é—­ä¸ºoff multiple:å¯ä»¥å¤šé€‰æ–‡ä»¶æäº¤ æ–°å¢é€‰æ‹©å™¨å±æ€§é€‰æ‹©å™¨E[att]é€‰æ‹©å…·æœ‰attå±æ€§çš„Eå…ƒç´  E[att=â€valâ€]é€‰æ‹©å…·æœ‰attå±æ€§ä¸”å±æ€§å€¼ç­‰äºvalçš„Eå…ƒç´  E[att^=â€valâ€]é€‰æ‹©å…·æœ‰attå±æ€§ä¸”å±æ€§å€¼ä»¥valå¼€å¤´ E[att$=â€valâ€]é€‰æ‹©å…·æœ‰attå±æ€§ä¸”å±æ€§å€¼ä¸­å«æœ‰valçš„Eå…ƒç´  ä¼ªç±»é€‰æ‹©å™¨E:first-child:åŒ¹é…çˆ¶å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´  E:last-child:åŒ¹é…çˆ¶å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´  E:nth-child(n)åŒ¹é…çˆ¶å…ƒç´ çš„ç¬¬nä¸ªå…ƒç´  E:nth-child(even)åŒ¹é…çˆ¶å…ƒç´ çš„ç¬¬å¶æ•°ä¸ªå…ƒç´ ï¼Œoddåˆ™ç¬¬å¥‡æ•°ä¸ªå…ƒç´  E:nth-child(n)ï¼Œä»0å¼€å§‹è®¡ç®—ï¼Œä½†æ˜¯ç¬¬0ä¸ªå…ƒç´ æˆ–è€…è¶…å‡ºå…ƒç´ ä¸ªæ•°ä¼šè¢«å¿½ç•¥ nth-child(2n):å¶æ•°ï¼Œ2n+1:å¥‡æ•° 5n:5 10 15â€¦ n+5:ä»ç¬¬5ä¸ªå¼€å§‹åˆ°æœ€å -n+5ï¼šå‰5ä¸ªï¼ˆåŒ…å«ç¬¬5ä¸ªï¼‰ nth-of-type():ä¼šæŠŠæŒ‡å®šå­©å­æ’åºå·ï¼Œæ‰§è¡Œçš„æ—¶å€™å…ˆçœ‹EæŒ‡å®šçš„å…ƒç´ ï¼Œä¹‹åæ ¹æ®Eå›å»çœ‹æ˜¯ç¬¬å‡ ä¸ªå­©å­ nth-child:å¯¹äºçˆ¶å…ƒç´ é‡Œé¢æ‰€æœ‰å­©å­è¿›è¡Œæ’åºé€‰æ‹©ï¼Œå…ˆæ‰¾åˆ°ç¬¬nä¸ªå­©å­ï¼Œç„¶åçœ‹ç€æ˜¯å¦å’ŒEåŒ¹é… æ— åºåˆ—è¡¨ç”¨nth-childæ¯”è¾ƒå¤š ç±»é€‰æ‹©å™¨ï¼Œå±æ€§é€‰æ‹©å™¨å’Œä¼ªç±»é€‰æ‹©å™¨æƒé‡ä¸º10 ä¼ªå…ƒç´ é€‰æ‹©å™¨::before:åœ¨å…ƒç´ å†…éƒ¨çš„å‰é¢æ’å…¥å†…å®¹ ::after:åœ¨å…ƒç´ å†…éƒ¨çš„åé¢æ’å…¥å†…å®¹ beforeå’Œafteråˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œå±äºè¡Œå†…å…ƒç´  æ–°åˆ›å»ºçš„è¿™ä¸ªå…ƒç´ åœ¨æ–‡æ¡£æ ‘ä¸­æ‰¾ä¸åˆ°ï¼Œå› æ­¤ç§°ä¸ºä¼ªå…ƒç´  è¯­æ³•ï¼šelement::before{}, beforeå’Œafterå¿…é¡»æœ‰contentå±æ€§ ä¼ªå…ƒç´ å’Œæ ‡ç­¾é€‰æ‹©å™¨ä¸€æ ·ï¼Œæƒé‡ä¸º1 ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼šæ¸…é™¤æµ®åŠ¨.clearfix:after { content:â€™â€™; display:block;//æ’å…¥çš„å…ƒç´ å¿…é¡»æ˜¯å—çº§ height:0;//ä¸è¦çœ‹è§è¿™ä¸ªå…ƒç´  clear:both; visibility:hidden;//ä¸è¦çœ‹è§è¿™ä¸ªå…ƒç´  } .clearfix:before,.clearfix:after { content:â€™â€™; diaplay:table;//å…ƒç´ åœ¨ä¸€è¡Œæ˜¾ç¤ºä¸”è½¬åŒ–ä¸ºå—çº§å…ƒç´  } CSSç›’å­æ¨¡å‹box-sizing:content-boxï¼Œç›’å­å¤§å°ä¸ºwidth+padding+border(CSS3ä¹‹å‰é»˜è®¤) box-sizing:border-box,ç›’å­å¤§å°ä¸ºwidth å¦‚æœç›’å­æ¨¡å‹æˆ‘ä»¬æ”¹ä¸ºäº†box-sizingï¼šborder-boxï¼Œé‚£paddingå’Œborderå°±ä¸ä¼šæ’‘å¤§ç›’å­ï¼ˆå‰æpaddingå’Œborderä¸ä¼šè¶…è¿‡widthå®½åº¦ï¼‰ CSSè¿‡æ¸¡ï¼ˆé‡ç‚¹ï¼‰transition:è¦è¿‡æ¸¡çš„å±æ€§ èŠ±è´¹æ—¶é—´ è¿åŠ¨æ›²çº¿ ä½•æ—¶å¼€å§‹ 1å±æ€§ï¼šæƒ³è¦å˜åŒ–çš„CSSå±æ€§ï¼Œå®½åº¦é«˜åº¦ èƒŒæ™¯é¢œè‰²å†…å¤–è¾¹è·éƒ½å¯ä»¥ å¦‚æœæƒ³è¦æ‰€æœ‰å±æ€§éƒ½å˜åŒ–è¿‡åº¦åˆ™ç”¨all 2èŠ±è´¹æ—¶é—´ï¼šå•ä½æ˜¯ç§’ï¼ˆå¿…éœ€å†™å•ä½ 3è¿åŠ¨æ›²çº¿é»˜è®¤ä¸ºease 4ä½•æ—¶å¼€å§‹ï¼šå•ä½æ˜¯ç§’ å¯ä»¥è®¾ç½®å»¶è¿Ÿè§¦å‘æ—¶é—´ é»˜è®¤æ˜¯0s CSS filterå±æ€§ä¿®æ”¹å›¾ç‰‡çš„é¢œè‰²ä¸ºé»‘ç™½ 1img&#123;filter:grayscale(100%)&#125;","categories":[{"name":"HTML+CSS","slug":"HTML-CSS","permalink":"https://coloey.github.io/categories/HTML-CSS/"}],"tags":[]},{"title":"DOMæ‰©å±•","slug":"DOMæ‰©å±•","date":"2021-11-25T08:47:24.000Z","updated":"2021-12-30T07:17:21.260Z","comments":true,"path":"2021/11/25/DOMæ‰©å±•/","link":"","permalink":"https://coloey.github.io/2021/11/25/DOM%E6%89%A9%E5%B1%95/","excerpt":"","text":"Selectors APIquerySelector()æ¥æ”¶CSSé€‰æ‹©ç¬¦å‚æ•°ï¼Œè¿”å›åŒ¹é…æ¨¡å¼çš„ç¬¬ä¸€ä¸ªåä»£å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹åˆ™è¿”å›null 12345678let body=document.querySelector(&quot;body&quot;);//å–å¾—idåä¸ºmyDivçš„å…ƒç´ let myDiv=document.querySelector(&quot;#myDiv&quot;);//å–å¾—ç±»åä¸ºâ€œselector&quot;çš„ç¬¬ä¸€ä¸ªå…ƒç´ let selected=document.querySelector(&quot;.selected&quot;);//å–å¾—ç±»åä¸º&quot;button&quot;çš„å›¾ç‰‡let img=document.querySelector(&quot;img.button&quot;); querySelectorAll()æ¥æ”¶ä¸€ä¸ªæŸ¥è¯¢å‚æ•°ï¼Œè¿”å›æ‰€æœ‰åŒ¹é…çš„èŠ‚ç‚¹ï¼Œå³ä¸€ä¸ªNodeListçš„é™æ€å®ä¾‹ 1234567891011//å–å¾—idä¸º&#x27;myDiv&#x27;çš„&lt;div&gt;å…ƒç´ ä¸­çš„æ‰€æœ‰&lt;em&gt;å…ƒç´ let ems=document.getElementByid(&#x27;myDiv&#x27;).querySelectorAll(&quot;em&quot;);//å–å¾—æ‰€æœ‰ç±»åä¸­åŒ…å«&#x27;selected&#x27;çš„å…ƒç´ let selecteds=document.querySelectorAll(&quot;.selected&quot;);//å–å¾—æ‰€æœ‰æ˜¯&lt;p&gt;å…ƒç´ å­å…ƒç´ çš„&lt;strong&gt;å…ƒç´ let strongs=document.querySelectorAll(&quot;p strong&quot;);for(let strong of strongs)&#123; strong.className=&quot;important&quot;; //strong.item(i).className=&quot;important&quot;; //strong[i].className=&quot;important&quot;;&#125; HTML5getElementsByClassName()æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç±»åçš„å­—ç¬¦ä¸²ï¼Œè¿”å›ç±»åä¸­åŒ…å«ç›¸åº”ç±»çš„å…ƒç´ çš„NodeList 1234//å–å¾—æ‰€æœ‰ç±»åä¸­åŒ…å«&#x27;username&#x27;å’Œ&#x27;current&#x27;å…ƒç´ let allCurrentUsernames=document.getElementsByClassName(&quot;username current&quot;);//å–å¾—idä¸ºâ€œmyDiv&quot;çš„å…ƒç´ å­æ ‘ä¸­æ‰€æœ‰åŒ…å«&#x27;selectedâ€™ç±»çš„å…ƒç´ let selected=document.getElementById(&quot;myDiv&quot;).getElementsByClassName(&quot;selected&quot;); è¿™ä¸ªæ–¹æ³•è¿”å›ä»¥è°ƒç”¨å®ƒçš„å¯¹è±¡ä¸ºæ ¹å…ƒç´ çš„å­æ ‘ä¸­æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ï¼Œåœ¨documentä¸Šè°ƒç”¨getElementsByClassName()è¿”å›æ–‡æ¡£ä¸­æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ï¼Œè€Œåœ¨ç‰¹å®šå…ƒç´ ä¸­è°ƒç”¨getElementsByClassName()è¿”å›è¯¥å…ƒç´ åä»£ä¸­åŒ¹é…çš„å…ƒç´  classListå±æ€§ add(value) contains(value) remove(value) toggle(value)ï¼šå¦‚æœç±»ååˆ—è¡¨ä¸­å·²ç»å­˜åœ¨æŒ‡å®šçš„valueï¼Œåˆ™åˆ é™¤ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œæ·»åŠ  123456div.classList.remove(&quot;disabled&quot;);div.classList.add(&quot;current&quot;);//æ£€æµ‹ç±»åif(div.classList.contains(&quot;bd&quot;)&amp;&amp;!div.classList.contains(&quot;disabled&quot;))&#123; &#125; ç„¦ç‚¹ç®¡ç†12345let button=document.getElementById(&quot;myButton&quot;);button.focus();console.log(document.activeElement===button);console.log(document.hasFocus());//trueæ–‡æ¡£å·²ç»æ‹¥æœ‰ç„¦ç‚¹","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"}],"tags":[]}],"categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://coloey.github.io/categories/JavaScript/"},{"name":"HTML+CSS","slug":"HTML-CSS","permalink":"https://coloey.github.io/categories/HTML-CSS/"}],"tags":[]}